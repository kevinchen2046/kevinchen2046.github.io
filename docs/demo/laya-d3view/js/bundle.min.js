(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=0)})({"./src/GameConfig.ts":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});const GameUI_1=__webpack_require__("./src/script/GameUI.ts");class GameConfig{constructor(){}static init(){var reg=Laya.ClassUtils.regClass;reg("script/GameUI.ts",GameUI_1.default)}}exports.default=GameConfig;GameConfig.width=640;GameConfig.height=1136;GameConfig.scaleMode="fixedwidth";GameConfig.screenMode="none";GameConfig.alignV="top";GameConfig.alignH="left";GameConfig.startScene="test/TestScene.scene";GameConfig.sceneRoot="";GameConfig.debug=false;GameConfig.stat=false;GameConfig.physicsDebug=false;GameConfig.exportSceneToJson=true;GameConfig.init()},"./src/d3view/D3Cube.ts":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.D3Cube=void 0;class D3Cube extends Laya.MeshSprite3D{constructor(size=1,color){super(Laya.PrimitiveMesh.createBox(size,size,size));var material=this.material=new Laya.PBRSpecularMaterial;material.albedoColor=color?color:new Laya.Vector4(Math.random(),Math.random(),Math.random(),1);material.smoothness=.8;this.meshRenderer.material=material;this._rotaAddtion=new Laya.Vector3}destroy(destoryChild){super.destroy(destoryChild);this.material.destroy()}startRotaion(x,y,z){this._rotaAddtion.setValue(x,y,z);Laya.timer.frameLoop(1,this,this.updateFrameHandler);return this}stopRotaion(){Laya.timer.clear(this,this.updateFrameHandler)}updateFrameHandler(){this.transform.rotate(this._rotaAddtion,false,false)}setPosition(x,y,z){this.transform.position.setValue(x!==null&&x!==void 0?x:0,y!==null&&y!==void 0?y:0,z!==null&&z!==void 0?z:0)}setScale(x,y,z){if(x!=undefined)this.transform.localScale.x=x;if(y!=undefined)this.transform.localScale.y=y;if(z!=undefined)this.transform.localScale.z=z;this.transform.localScale=this.transform.localScale}setPosition2d(camera,x,y){let vec3=new Laya.Vector3;vec3.setValue(x,y,0);camera.convertScreenCoordToOrthographicCoord(vec3,vec3);vec3.z=this.transform.position.z;this.transform.position=vec3}}exports.D3Cube=D3Cube},"./src/d3view/D3Event.ts":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.D3Event=void 0;class D3Event{}exports.D3Event=D3Event;D3Event.READY="ready"},"./src/d3view/D3Layer.ts":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.D3Layer=void 0;const D3Sprite_1=__webpack_require__("./src/d3view/D3Sprite.ts");const D3Util_1=__webpack_require__("./src/d3view/D3Util.ts");class D3Layer extends D3Sprite_1.D3Sprite{constructor(d3){super();this.d3=d3;this.top=new Laya.Sprite;this.top.mouseEnabled=false;this.bottom=new Laya.Sprite;this.bottom.mouseEnabled=false;this.ticks=new D3Util_1.Ticks;this.d3layer=this}initialize(options){var _a,_b;this._aglinComp=options.aglinComp;this.bindScroll((_a=options.scroll)===null||_a===void 0?void 0:_a.y,(_b=options.scroll)===null||_b===void 0?void 0:_b.x);return this}get deafultParent(){if(this._aglinComp instanceof Laya.Sprite){return this._aglinComp.parent}return this._aglinComp.parent.displayListContainer}get aglinComp(){if(this._aglinComp instanceof Laya.Sprite){return this._aglinComp}return this._aglinComp.displayObject}add(){if(!this.isOnView&&!!this._aglinComp){this.deafultParent.addChild(this.bottom);this.d3.d3vp.addTo(this.deafultParent);this.d3.d3vp.scene3d.addChild(this);this.deafultParent.addChild(this.top);this.ticks.enable=true}}remove(){if(this.isOnView){this.d3.d3vp.remove();this.removeSelf();this.top.removeSelf();this.bottom.removeSelf();this.ticks.enable=false}}get isOnView(){return!!this.top.parent}clear(){this.d3.d3vp.clear();this.top.removeChildren();this.bottom.removeChildren()}destroy(destoryChildren){this.remove();this.ticks.clear();super.destroy(destoryChildren);if(this.top){this.top.destroy(destoryChildren);this.top=null}if(this.bottom){this.bottom.destroy(destoryChildren);this.bottom=null}}update(x,y,width,height){this.top.pos(x,y);this.bottom.pos(x,y);this.setScrollRect(this.top,0,0,width,height);this.setScrollRect(this.bottom,0,0,width,height);this.updatePosition();for(let i=0;i<this.numChildren;i++){let d3sprite=this.getChildAt(i);if(d3sprite instanceof D3Sprite_1.D3Sprite){d3sprite.updatePosition()}}}bindScroll(y=false,x=false){if(!this._aglinComp)return;if(!y&&!x)return;if(this._aglinComp instanceof Laya.Sprite){if(this._aglinComp instanceof Laya.List){this.scrollContainer=this._aglinComp.getChildAt(0)}else{this.scrollContainer=this._aglinComp}let __this=this;if(x){let defaultX=this.scrollContainer.scrollRect.x;Object.defineProperty(this.scrollContainer.scrollRect,"x",{set:function(v){this._x=v;__this.__updateScrollPosition()},get:function(){return this._x}});this.scrollContainer.scrollRect.x=defaultX}if(y){let defaultY=this.scrollContainer.scrollRect.y;Object.defineProperty(this.scrollContainer.scrollRect,"y",{set:function(v){this._y=v;__this.__updateScrollPosition()},get:function(){return this._y}});this.scrollContainer.scrollRect.y=defaultY}}else{this.scrollContainer=this._aglinComp.scrollPane["_container"];if(x){D3Util_1.proxyGetterSetter(this.scrollContainer,"x",{caller:this,set:value=>{this.__updateScrollPosition()}})}if(y){D3Util_1.proxyGetterSetter(this.scrollContainer,"y",{caller:this,set:value=>{this.__updateScrollPosition()}})}}this.updateScrollPosition();return this}unBindScroll(){if(this.scrollContainer){if(this._aglinComp instanceof Laya.Sprite){let __valueX=this._aglinComp.scrollRect.x;let __valueY=this._aglinComp.scrollRect.y;Object.defineProperty(this.scrollContainer.scrollRect,"x",{value:__valueX});Object.defineProperty(this.scrollContainer.scrollRect,"y",{value:__valueY})}else{D3Util_1.unProxyGetterSetter(this.scrollContainer,"x");D3Util_1.unProxyGetterSetter(this.scrollContainer,"y")}this.scrollContainer=null}}updateScrollPosition(){if(this._aglinComp&&this.d3.isReady){this.__updateScrollPosition()}}__updateScrollPosition(){let p1=this.scrollContainer.localToGlobal(new Laya.Point);if(!this.isOnView)return;if(this._aglinComp instanceof Laya.Sprite){if(!this.scrollContainer.scrollRect)return;this.updateScrollHandler(this.scrollContainer.scrollRect.x,this.scrollContainer.scrollRect.y,p1.x-this.d3.d3vp.viewRect.x,p1.y-this.d3.d3vp.viewRect.y)}else{this.updateScrollHandler(-this.scrollContainer.x,-this.scrollContainer.y,p1.x-this.d3.d3vp.viewRect.x,p1.y-this.d3.d3vp.viewRect.y)}}updateScrollHandler(x2d,y2d,x3d,y3d){this.top.scrollRect.x=x2d;this.top.scrollRect.y=y2d;this.bottom.scrollRect.x=x2d;this.bottom.scrollRect.y=y2d;this.pos(x3d,y3d,true)}setScrollRect(d2,x,y,width,height){let rect=d2.scrollRect;if(!rect)rect=new Laya.Rectangle;rect.setTo(x,y,width,height);d2.scrollRect=rect}get2dOffset(x,y){let scale=this.get2dScaleOffset();if(!scale)return null;return{x:x*scale.scaleX,y:y*scale.scaleY}}get2dScaleOffset(){let scaleX=1;let scaleY=1;let cur=this.aglinComp;while(cur!=Laya.stage){if(!cur)return null;scaleX*=cur.scaleX;scaleY*=cur.scaleY;cur=cur.parent}return{scaleX:scaleX,scaleY:scaleY}}addChildToTop(node){this.top.addChild(node)}removeChildFromTop(node){this.top.removeChild(node)}addChildToBottom(node){this.bottom.addChild(node)}removeChildFromBottom(node){this.bottom.removeChild(node)}set visible(v){this.top.visible=this.bottom.visible=this.active=v}get visible(){return this.top.visible}get width(){return this.aglinComp.width}get height(){return this.aglinComp.height}}exports.D3Layer=D3Layer},"./src/d3view/D3Sprite.ts":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.D3Sprite=void 0;const D3Event_1=__webpack_require__("./src/d3view/D3Event.ts");class D3Sprite extends Laya.Sprite3D{constructor(){super();this._rotaAddtion=new Laya.Vector3;this._cache=new Laya.Vector2;this._position={x:0,y:0,isGlobal:false};this.transform.localScale.setValue(1.2,1.2,1.2);this.transform.localScale=this.transform.localScale}destroy(destoryChildren){super.destroy(destoryChildren);this._position=null;this.d3=null}reset(){this.stopRotaion();this._position.x=0;this._position.y=0}addChild(node){super.addChild(node);if(node instanceof D3Sprite){node.d3=this.d3;node.ticks=this.ticks;node.d3layer=this.d3layer}return node}removeChild(node){super.removeChild(node);if(node instanceof D3Sprite){node.d3=null;node.ticks=null}return node}pos(x,y,isGlobal){this._position.x=x;this._position.y=y;this._position.isGlobal=isGlobal;this.updatePosition()}set x(v){this._position.x=v;Laya.timer.callLater(this,this.updatePosition)}get x(){return this._position.x}set y(v){this._position.y=v;Laya.timer.callLater(this,this.updatePosition)}get y(){return this._position.y}getAdjust(position){if(!position)position=new Laya.Vector2;position.setValue(0,0);let parent=this.parent;while(parent instanceof D3Sprite){position.x+=parent.x;position.y+=parent.y;parent=this.parent.parent}return position}updatePosition(){if(!this.d3){return}if(!this.d3.isReady){this.d3.once(D3Event_1.D3Event.READY,this,this.__$updatePosition);return}this.__$updatePosition()}__$updatePosition(){let x=this._position.x;let y=this._position.y;if(!this._position.isGlobal){const ret=this.d3layer.get2dOffset(x,y);if(!ret){return}x=ret.x;y=ret.y}let adjust=this._cache=this.getAdjust(this._cache);x+=adjust.x;y+=adjust.y;this.__position=this.d3.convertCoord(x,y,null,null,this.__position);this.transform.position.setValue(this.__position.x,this.__position.y,-5);this.transform.position=this.transform.position}setPosition(x,y,z){this.transform.position.setValue(x!==null&&x!==void 0?x:0,y!==null&&y!==void 0?y:0,z!==null&&z!==void 0?z:0);this.transform.position=this.transform.position}setScale(x,y,z){if(x!=undefined)this.transform.localScale.x=x;if(y!=undefined)this.transform.localScale.y=y;if(z!=undefined)this.transform.localScale.z=z;this.transform.localScale=this.transform.localScale}startRotaion(x,y,z){let mesh=this.getChildAt(0);if(!mesh)return;if(!this._originalRotation){this._originalRotation=mesh.transform.rotation.clone()}mesh.transform.rotation.x=this._originalRotation.x;mesh.transform.rotation.y=this._originalRotation.y;mesh.transform.rotation.z=this._originalRotation.z;mesh.transform.rotation.w=this._originalRotation.w;mesh.transform.rotation=mesh.transform.rotation;this._rotaAddtion.setValue(x,y,z);this.ticks&&this.ticks.add(this,this.updateFrameHandler);return this}stopRotaion(){this.ticks&&this.ticks.remove(this,this.updateFrameHandler);let mesh=this.getChildAt(0);if(!mesh||!this._originalRotation)return;mesh.transform.rotation.x=this._originalRotation.x;mesh.transform.rotation.y=this._originalRotation.y;mesh.transform.rotation.z=this._originalRotation.z;mesh.transform.rotation.w=this._originalRotation.w;mesh.transform.rotation=mesh.transform.rotation}updateFrameHandler(){let mesh=this.getChildAt(0);mesh.transform.rotate(this._rotaAddtion,false,false)}rotationOnce(eulerX,eulerY,eulerZ){let mesh=this.getChildAt(0);if(!mesh)return;Laya.Tween.clearAll(mesh.transform);if(!this._originalEuler){this._originalEuler={x:mesh.transform.localRotationEulerX,y:mesh.transform.localRotationEulerY,z:mesh.transform.localRotationEulerZ}}mesh.transform.localRotationEulerX=this._originalEuler.x;mesh.transform.localRotationEulerY=this._originalEuler.y;mesh.transform.localRotationEulerZ=this._originalEuler.z;Laya.Tween.to(mesh.transform,{localRotationEulerX:this._originalEuler.x+(eulerX!==null&&eulerX!==void 0?eulerX:0),localRotationEulerY:this._originalEuler.y+(eulerY!==null&&eulerY!==void 0?eulerY:0),localRotationEulerZ:this._originalEuler.z+(eulerZ!==null&&eulerZ!==void 0?eulerZ:0)},1e3,Laya.Ease.circInOut,Laya.Handler.create(this,()=>{mesh.transform.localRotationEulerX=mesh.transform.localRotationEulerX%360;mesh.transform.localRotationEulerY=mesh.transform.localRotationEulerY%360;mesh.transform.localRotationEulerZ=mesh.transform.localRotationEulerZ%360}))}}exports.D3Sprite=D3Sprite},"./src/d3view/D3Util.ts":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.unProxyGetterSetter=exports.proxyGetterSetter=exports.getGetter=exports.getSetter=exports.Ticks=void 0;class Ticks{constructor(){this._ticks=[];this._enable=true}clear(){this._ticks.forEach(handler=>handler.recover());this._ticks.length=0}set enable(v){if(this._enable!=v){this._enable=v;if(this._enable){if(this._ticks.length>0){Laya.timer.frameLoop(1,this,this.tickHandler)}}else{Laya.timer.clear(this,this.tickHandler)}}}get enable(){return this._enable}add(caller,method,...args){if(!this._ticks){this._ticks=[]}this._ticks.push(Laya.Handler.create(caller,method,args,false));if(this._enable){Laya.timer.frameLoop(1,this,this.tickHandler)}}remove(caller,method){for(let i=0;i<this._ticks.length;i++){let tick=this._ticks[i];if(tick.caller==caller&&tick.method==method){tick.recover();this._ticks.splice(i,1);break}}if(this._ticks.length==0)Laya.timer.clear(this,this.tickHandler)}tickHandler(){for(let tick of this._ticks)tick.run()}}exports.Ticks=Ticks;function getSetter(object,prop){return Object.getPrototypeOf(object)["__lookupSetter__"](prop)}exports.getSetter=getSetter;function getGetter(object,prop){return Object.getPrototypeOf(object)["__lookupGetter__"](prop)}exports.getGetter=getGetter;function proxyGetterSetter(object,prop,detail){let oldSetter=getSetter(object,prop);let oldGetter=getGetter(object,prop);let proptype=Object.getPrototypeOf(object);proptype[`__orig_${prop}_Setter__`]=oldSetter;proptype[`__orig_${prop}_Getter__`]=oldGetter;Object.defineProperty(object,prop,{set:function(val){if(!!detail.setpre){val=detail.setpre.call(detail.caller,val)}oldSetter.call(this,val);if(!!detail.set){detail.set.call(detail.caller,this[prop])}},get:function(){let val=oldGetter.call(this);if(!!detail.get){return detail.get.call(detail.caller,val)}return val},enumerable:true,configurable:true})}exports.proxyGetterSetter=proxyGetterSetter;function unProxyGetterSetter(object,prop){let proptype=Object.getPrototypeOf(object);let oldSetter=proptype[`__orig_${prop}_Setter__`];let oldGetter=proptype[`__orig_${prop}_Getter__`];if(oldSetter&&oldGetter){Object.defineProperty(object,prop,{set:oldSetter,get:oldGetter,enumerable:true,configurable:true})}}exports.unProxyGetterSetter=unProxyGetterSetter},"./src/d3view/D3View.ts":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.D3View=void 0;const D3Event_1=__webpack_require__("./src/d3view/D3Event.ts");const D3Layer_1=__webpack_require__("./src/d3view/D3Layer.ts");const D3ViewPort_1=__webpack_require__("./src/d3view/D3ViewPort.ts");class D3View extends Laya.EventDispatcher{constructor(name){super();this._d3vp=new D3ViewPort_1.D3ViewPort;this._d3vp.initialize(name);this._layers=[]}static get(name){if(!D3View.__map)D3View.__map={};return D3View.__map[name]||(D3View.__map[name]=new D3View(name))}createLayer(name="default"){let layer=new D3Layer_1.D3Layer(this);layer.name=name;layer.d3=this;this._layers.push(layer);return layer}enableLayer(name){for(let layer of this._layers){if(layer.name!=name){layer.remove()}}this._curLayer=this.addLayer(name);this.update()}disableLayer(name){if(name){if(this._curLayer==this.removeLayer(name)){this._curLayer=null}return}for(let layer of this._layers){layer.remove()}this._curLayer=null}getLayer(name){for(let layer of this._layers){if(layer.name==name){return layer}}return this.createLayer(name)}addLayer(name){let layer=this.getLayer(name);layer.add();return layer}removeLayer(name){let layer=this.getLayer(name);layer.remove();return layer}destroy(destoryChildren){for(let k in this._layers){this._layers[k].destroy();this._layers[k]=null;delete this._layers[k]}this._d3vp.destroy(destoryChildren)}clear(){for(let k in this._layers){this._layers[k].clear()}}update(){if(!this._curLayer){return}let aglinComp=this._curLayer.aglinComp;let p=aglinComp.localToGlobal(new Laya.Point);let s=this._curLayer.get2dScaleOffset();if(!s)return;this.d3vp.update(p.x,p.y,aglinComp.width*s.scaleX,aglinComp.height*s.scaleY);this._curLayer.update(aglinComp.x,aglinComp.y,aglinComp.width,aglinComp.height);this._curLayer.updateScrollPosition();this.event(D3Event_1.D3Event.READY)}convertCoord(x,y,viewRect,camera,cache){if(!viewRect)viewRect=this._d3vp.viewRect;if(!camera)camera=this._d3vp.camera;if(!cache)cache=new Laya.Vector3;if(!viewRect){console.warn(`坐标转换错误,未设置视口大小...`);return cache}let sx=Laya.stage.width/viewRect.width;let sy=Laya.stage.height/viewRect.height;let tx=x*sx;let ty=y*sy;cache.setValue(tx,ty,0);camera.convertScreenCoordToOrthographicCoord(cache,cache);return cache}setVisible(v){for(let layer of this._layers){layer.visible=v}this.d3vp.scene3d.visible=v}get name(){return this._d3vp.camera.name}get d3vp(){return this._d3vp}get viewWidth(){return this._curLayer?this._curLayer.width:0}get viewHeight(){return this._curLayer?this._curLayer.height:0}get isReady(){return!!this._d3vp.viewRect}addChild(node){this._d3vp.scene3d.addChild(node);node.d3=this}removeChild(node){this._d3vp.scene3d.removeChild(node);node.d3=null}addToLayer(name,node){this.getLayer(name).addChild(node);node.d3=this}removeFromLayer(name,node){this.getLayer(name).removeChild(node);node.d3=null}addToLayerTop(name,node){this.getLayer(name).addChildToTop(node)}removeFromLayerTop(name,node){this.getLayer(name).removeChildFromTop(node)}addToLayerBottom(name,node){this.getLayer(name).addChildToBottom(node)}removeFromLayerBottom(name,node){this.getLayer(name).removeChildFromBottom(node)}}exports.D3View=D3View},"./src/d3view/D3ViewPort.ts":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.D3ViewPort=void 0;class D3ViewPort{initialize(name){this.create();this.light.intensity=1.5;this.camera.name=name;this.camera.useOcclusionCulling=true;this.camera.orthographic=true;this.camera.clearFlag=Laya.Camera.CLEARFLAG_DEPTHONLY;this.camera.clearColor=new Laya.Vector4(0,0,0,.1);this.camera.orthographicVerticalSize=7}destroy(destoryChildren){this.remove();if(this.scene3d){this.scene3d.destroy(destoryChildren);this.scene3d=null}}create(){this.scene3d=new Laya.Scene3D;this.light=new Laya.DirectionLight;this.scene3d.addChild(this.light);this.camera=new Laya.Camera(0,.3,100);this.scene3d.addChild(this.camera)}update(x,y,width,height){if(!this.viewRect)this.viewRect=new Laya.Rectangle;this.viewRect.setTo(x,y,width,height);let viewport=this.camera.viewport;viewport.x=x*Laya.stage.clientScaleX;viewport.y=y*Laya.stage.clientScaleY;viewport.width=width*Laya.stage.clientScaleX;viewport.height=height*Laya.stage.clientScaleY;this.camera.viewport=viewport}set visible(v){this.scene3d.visible=v}get visible(){return this.scene3d.visible}get isReady(){return!!this.viewRect}addTo(parent){this.parent=parent;this.parent.addChild(this.scene3d)}remove(){this.scene3d.removeSelf()}clear(){this.scene3d.removeChildren()}addChild(node){this.scene3d.addChild(node)}removeChild(node){this.scene3d.removeChild(node)}}exports.D3ViewPort=D3ViewPort},"./src/main.ts":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});const GameConfig_1=__webpack_require__("./src/GameConfig.ts");class Main{constructor(){if(window["Laya3D"])Laya3D.init(GameConfig_1.default.width,GameConfig_1.default.height);else Laya.init(GameConfig_1.default.width,GameConfig_1.default.height,Laya["WebGL"]);Laya["Physics"]&&Laya["Physics"].enable();Laya["DebugPanel"]&&Laya["DebugPanel"].enable();Laya.stage.scaleMode=GameConfig_1.default.scaleMode;Laya.stage.screenMode=GameConfig_1.default.screenMode;Laya.stage.alignV=GameConfig_1.default.alignV;Laya.stage.alignH=GameConfig_1.default.alignH;Laya.URL.exportSceneToJson=GameConfig_1.default.exportSceneToJson;if(GameConfig_1.default.debug||Laya.Utils.getQueryString("debug")=="true")Laya.enableDebugPanel();if(GameConfig_1.default.physicsDebug&&Laya["PhysicsDebugDraw"])Laya["PhysicsDebugDraw"].enable();if(GameConfig_1.default.stat)Laya.Stat.show();Laya.alertGlobalError=true;Laya.ResourceVersion.enable("version.json",Laya.Handler.create(this,this.onVersionLoaded),Laya.ResourceVersion.FILENAME_VERSION)}onVersionLoaded(){Laya.AtlasInfoManager.enable("fileconfig.json",Laya.Handler.create(this,this.onConfigLoaded))}onConfigLoaded(){GameConfig_1.default.startScene&&Laya.Scene.open(GameConfig_1.default.startScene)}}new Main},"./src/script/GameUI.ts":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});const D3Cube_1=__webpack_require__("./src/d3view/D3Cube.ts");const D3Sprite_1=__webpack_require__("./src/d3view/D3Sprite.ts");const D3View_1=__webpack_require__("./src/d3view/D3View.ts");const layaMaxUI_1=__webpack_require__("./src/ui/layaMaxUI.ts");class GameUI extends layaMaxUI_1.ui.test.TestSceneUI{constructor(){super();Laya.stage.bgColor="#361c1c";this.list=this.getChildByName("list");var data=[];for(var m=0;m<20;m++){data.push({m_label:"No."+m})}this.list.array=data;let view=D3View_1.D3View.get("ui");let layer=view.getLayer("panel1");layer.initialize({aglinComp:this.list,scroll:{y:true}});view.enableLayer("panel1");let cellHeight=94;let iconSize=80;let offset={x:231,y:8};for(let i=0;i<data.length;i++){let cube=this.createCube(.8);view.addToLayer("panel1",cube);cube.pos(offset.x+iconSize/2,offset.y+iconSize/2+cellHeight*i);cube.startRotaion(1,1,1)}Laya.stage.on(Laya.Event.RESIZE,this,()=>{D3View_1.D3View.get("ui").update();console.log(this)})}onOpened(param){D3View_1.D3View.get("ui").update()}onClosed(type){D3View_1.D3View.get("ui").disableLayer()}createCube(scale=1){let sprite=new D3Sprite_1.D3Sprite;let cube=new D3Cube_1.D3Cube(.5);cube.setScale(scale,scale,scale);sprite.addChild(cube);return sprite}addTestCube(){let view=D3View_1.D3View.get("ui");let cube=this.createCube();view.addToLayer("panel1",cube);let shape=new Laya.Sprite;Laya.stage.addChild(shape);shape.alpha=.5;shape.graphics.drawCircle(0,0,5,"#ffff00");Laya.stage.on(Laya.Event.MOUSE_DOWN,this,()=>{shape.pos(Laya.stage.mouseX,Laya.stage.mouseY);cube.pos(Laya.stage.mouseX-view.d3vp.viewRect.x,Laya.stage.mouseY-view.d3vp.viewRect.y,true);cube.rotationOnce(0,360,0)})}}exports.default=GameUI},"./src/ui/layaMaxUI.ts":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ui=void 0;var Scene=Laya.Scene;var REG=Laya.ClassUtils.regClass;var ui;(function(ui){var test;(function(test){class TestSceneUI extends Scene{constructor(){super()}createChildren(){super.createChildren();this.loadScene("test/TestScene")}}test.TestSceneUI=TestSceneUI;REG("ui.test.TestSceneUI",TestSceneUI)})(test=ui.test||(ui.test={}))})(ui=exports.ui||(exports.ui={}))},0:function(module,exports,__webpack_require__){module.exports=__webpack_require__("./src/main.ts")}});