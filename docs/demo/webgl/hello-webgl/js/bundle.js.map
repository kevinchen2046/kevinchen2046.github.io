{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/Geometry.ts","webpack:///./src/HelloWebGL.ts","webpack:///./src/core/GLSL.ts","webpack:///./src/core/RenderContext.ts","webpack:///./src/core/RenderProgram.ts","webpack:///./src/core/Shader.ts","webpack:///./src/core/Util.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"js/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import { ColorUtil, Hashtable } from \"./core/Util\";\r\n\r\nexport class Geometry {\r\n    public size: number = 1;\r\n    public points: Point[];\r\n    public map: Hashtable<Point>;\r\n    public rects: Rect[];\r\n    public values: number[];\r\n    public buffer: Float32Array;\r\n    constructor(sigX: number, sigY: number) {\r\n        this.map = new Hashtable<Point>();\r\n        this.rects = [];\r\n        let halfX = sigX / 2;\r\n        let halfY = sigY / 2;\r\n        for (let b = 0; b <= sigY; b++) {\r\n            for (let a = 0; a <= sigX; a++) {\r\n                this.map.set(`${a}_${b}`, new Point(\r\n                    (a - halfX) / sigX,\r\n                    (halfY - b) / sigY,\r\n                    this.randColor()))\r\n            }\r\n        }\r\n        for (let b = 0; b < sigY; b++) {\r\n            for (let a = 0; a < sigX; a++) {\r\n                let index = b * sigX + a;\r\n                if (!this.rects[index]) {\r\n                    let ra = this.getPoint(a, b);\r\n                    let rb = this.getPoint(a, b + 1);\r\n                    let rc = this.getPoint(a + 1, b + 1);\r\n                    let rd = this.getPoint(a + 1, b);\r\n                    this.rects[index] = new Rect(ra, rb, rc, rd);\r\n                }\r\n            }\r\n        }\r\n\r\n        // console.log(this.map.length);\r\n        // console.log(this.rects.length);\r\n        this.points = [];\r\n        this.rects.forEach(rect => rect.concat(this.points));\r\n        this.values = new Array(this.points.length * 5);\r\n        this.buffer = new Float32Array(this.values);\r\n    }\r\n\r\n    getPoint(a, b) {\r\n        return this.map.get(`${a}_${b}`)\r\n    }\r\n\r\n    randColor() {\r\n        return Math.floor(Math.random() * 0xFFFFFF);\r\n    }\r\n\r\n    update() {\r\n        this.points.forEach((p, i) => {\r\n            let index = i * 5;\r\n            this.buffer[index] = p.x;\r\n            this.buffer[index + 1] = p.y;\r\n            this.buffer[index + 2] = p.r;\r\n            this.buffer[index + 3] = p.g;\r\n            this.buffer[index + 4] = p.b;\r\n        });\r\n    }\r\n\r\n    pointToString() {\r\n        return this.points.map((p, i) => {\r\n            return { x: p.x, y: p.y };\r\n        })\r\n    }\r\n}\r\n\r\nclass Point {\r\n    public x: number;\r\n    public y: number;\r\n    public r: number;\r\n    public g: number;\r\n    public b: number;\r\n    constructor(x: number = 0, y: number = 0, color: number = 0xFFFFFF) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.setColor(color);\r\n    }\r\n\r\n    clone() {\r\n        let _p = new Point();\r\n        _p.x = this.x;\r\n        _p.y = this.y;\r\n        _p.r = this.r;\r\n        _p.g = this.g;\r\n        _p.b = this.b;\r\n        return _p;\r\n    }\r\n\r\n    set(x: number, y: number) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n\r\n    setColor(v: number) {\r\n        let { r, g, b } = ColorUtil.extract(v);\r\n        this.r = r / 0xFF;\r\n        this.g = g / 0xFF;\r\n        this.b = b / 0xFF;\r\n    }\r\n\r\n    format() {\r\n        return [\r\n            this.x,\r\n            this.y,\r\n            this.r,\r\n            this.g,\r\n            this.b\r\n        ];\r\n    }\r\n\r\n    average(target: Point) {\r\n        if (this.x == target.x) {\r\n            return { x: this.x, y: this.y + (target.y - this.y) / 2, r: Math.floor(this.r + target.r / 2), g: Math.floor(this.g + target.g / 2), b: Math.floor(this.b + target.b / 2) }\r\n        }\r\n        if (this.y == target.y) {\r\n            return { x: this.x + (target.x - this.x) / 2, y: this.y, r: Math.floor(this.r + target.r / 2), g: Math.floor(this.g + target.g / 2), b: Math.floor(this.b + target.b / 2) }\r\n        }\r\n        return { x: this.x + (target.x - this.x) / 2, y: this.y + (target.y - this.y) / 2, r: Math.floor(this.r + target.r / 2), g: Math.floor(this.g + target.g / 2), b: Math.floor(this.b + target.b / 2) }\r\n    }\r\n}\r\n\r\nclass Rect {\r\n    public points: Point[];\r\n\r\n    constructor(a: Point, b: Point, c: Point, d: Point) {\r\n        this.points = [a, b, c, d];\r\n        //[a, b, d, b, c, d]\r\n    }\r\n\r\n    public concat(list: Point[]) {\r\n        return list.push(this.a, this.b, this.d, this.b, this.c, this.d)\r\n    }\r\n\r\n    public get a() { return this.points[0] }\r\n    public get b() { return this.points[1] }\r\n    public get c() { return this.points[2] }\r\n    public get d() { return this.points[3] }\r\n}","import { Geometry } from \"./Geometry\";\r\nimport { attribute, cos, DefinedType, float, GLSL_Fragment, GLSL_Vertex, method, precision, PrecisionType, sampler2D, sin, smoothstep, texture2D, uniform, varying, vec2, _vec2, _vec4 } from \"./core/GLSL\";\r\nimport { RenderContext } from \"./core/RenderContext\";\r\n\r\n@precision(PrecisionType.mediump)\r\nclass MyVS extends GLSL_Vertex {\r\n    @attribute(DefinedType.vec2)\r\n    public a_Position: vec2;\r\n\r\n    @attribute(DefinedType.float)\r\n    public a_Color: float;\r\n\r\n    @uniform(DefinedType.float)\r\n    public u_time: float;\r\n\r\n    @varying(DefinedType.float)\r\n    public v_Color: float;\r\n\r\n    @varying(DefinedType.vec2)\r\n    public v_TexCoord: vec2;\r\n\r\n    @method([DefinedType.float], DefinedType.float)\r\n    public st(a: float, b: float, s: float) {\r\n        return (a - s + a + s + b);\r\n    }\r\n    protected main() {\r\n        let x = this.a_Position.x;\r\n        let y = this.a_Position.y;\r\n        let time = this.u_time / 30.0;\r\n        let x1 = x - 0.5;\r\n        let y1 = 0.5 - y;\r\n        let dis = sin(0.5 - x1) + cos(y1);\r\n        x += sin(dis + time) / 5.0;\r\n        y += cos(dis + time) / 5.0;\r\n        this.gl_Position = _vec4(x, y, 0.0, 1.0);\r\n        this.v_Color = this.a_Color;\r\n        this.v_TexCoord = _vec2(this.a_Position.x - 0.5, 0.5 - this.a_Position.y);\r\n    }\r\n}\r\n\r\n@precision(PrecisionType.mediump)\r\nclass MyFS extends GLSL_Fragment {\r\n    @uniform(DefinedType.sampler2D)\r\n    public u_Sampler: sampler2D;\r\n\r\n    @uniform(DefinedType.float)\r\n    public u_time: float;\r\n\r\n    @varying(DefinedType.float)\r\n    public v_Color: float;\r\n\r\n    @varying(DefinedType.vec2)\r\n    public v_TexCoord: vec2;\r\n\r\n    protected main() {\r\n        this.gl_FragColor = texture2D(this.u_Sampler, this.v_TexCoord);\r\n    }\r\n}\r\n\r\nexport class HelloWebGL {\r\n\r\n    constructor() {\r\n        this.initialize();\r\n    }\r\n    async initialize() {\r\n        var canvas = document.getElementById('webgl');\r\n        //创建渲染器\r\n        let context = new RenderContext(canvas as HTMLCanvasElement);\r\n        //创建Shader\r\n        let shader = context.createProgram().createShader(MyVS, MyFS);\r\n        shader.printf();\r\n        //创建几何面\r\n        let geometry = new Geometry(8, 8);\r\n        geometry.update();\r\n        //创建Buffer\r\n        let buffer = shader.createBuffer(geometry.buffer, 5, context.gl.DYNAMIC_DRAW);\r\n        //将存储属性a_Position链接到Buffer数据\r\n        shader.getAttribute(\"a_Position\").linkBuffer(buffer, 2, 0);\r\n        //将存储属性a_Color链接到Buffer数据\r\n        shader.getAttribute(\"a_Color\").linkBuffer(buffer, 3, 2);\r\n        //加载图片\r\n        var image = await this.loadImage('./res/yellowflower.jpg');\r\n        //创建纹理\r\n        shader.createTexture(\"u_Sampler\", image, 0);\r\n        //循环渲染\r\n        context.tick(frame => {\r\n            //更新u_time值\r\n            shader.set(\"u_time\", frame);\r\n            context.updateRender();\r\n        })\r\n    }\r\n\r\n    loadImage(url) {\r\n        return new Promise<HTMLImageElement>(reslove => {\r\n            var image = new Image();\r\n            if (!image) {\r\n                console.log('Failed to create the image object');\r\n                reslove(null);\r\n                return;\r\n            }\r\n            image.onload = () => reslove(image);\r\n            image.src = url;\r\n        })\r\n    }\r\n}","import { EnumUtil } from \"./Util\";\r\n\r\n\r\nfunction getClazzName(clazz) {\r\n    if (clazz.prototype) {\r\n        return clazz.prototype.constructor.name\r\n    }\r\n    return clazz.constructor.name;\r\n}\r\nfunction createGlslObject() {\r\n    return {\r\n        attributes: [],\r\n        uniforms: [],\r\n        varyings: [],\r\n        methods: [],\r\n        precision: \"\"\r\n    } as GLSLInfo;\r\n}\r\ntype GLSLInfo = {\r\n    attributes: { name: string, type: DefinedType }[],\r\n    uniforms: { name: string, type: DefinedType }[],\r\n    varyings: { name: string, type: DefinedType }[],\r\n    methods: { content: string, types: { params: DefinedType | DefinedType[], type: DefinedType } }[],\r\n    precision: string\r\n}\r\nlet glslMap: { [clzname: string]: GLSLInfo } = {};\r\nexport function precision(type: PrecisionType) {\r\n    return function (clazz) {\r\n        let clzname = getClazzName(clazz);\r\n        if (!glslMap[clzname]) glslMap[clzname] = createGlslObject();\r\n        glslMap[clzname].precision = `#ifdef GL_ES\\n  precision ${EnumUtil.getKey(PrecisionType, type)} float;\\n#endif`\r\n    }\r\n}\r\n\r\nexport enum PrecisionType {\r\n    /**精确度低 */\r\n    lowp,\r\n    /**精确度中 */\r\n    mediump,\r\n    /**精确度高 */\r\n    highp\r\n}\r\nexport enum Define {\r\n    /**存储值 */\r\n    attribute,\r\n    /**固定值 */\r\n    uniform,\r\n    /**传递值 */\r\n    varying\r\n}\r\n\r\nexport enum DefinedType {\r\n    sampler2D, float, vec2, vec3, vec4, mat2, mat3, mat4, int\r\n}\r\n\r\nlet DefinedTypeData = {};\r\n\r\nfunction Property(type: string) {\r\n    return function (clazz: any, ...args) {\r\n        let clzname = getClazzName(clazz);\r\n        DefinedTypeData[EnumUtil.getValue(DefinedType, clzname)] = EnumUtil.getValue(DefinedType, type);\r\n    }\r\n}\r\n\r\nexport type float = number;\r\n\r\nexport class vec2 {\r\n\r\n    @Property(\"float\")\r\n    x: float;\r\n    @Property(\"float\")\r\n    y: float;\r\n\r\n    constructor(x?: float, y?: float) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n    get xy() {\r\n        return new vec2(this.x, this.y);\r\n    }\r\n}\r\n\r\nexport class vec3 {\r\n\r\n    @Property(\"float\")\r\n    x: float;\r\n    @Property(\"float\")\r\n    y: float;\r\n    @Property(\"float\")\r\n    z: float;\r\n\r\n    constructor(x?: float, y?: float, z?: float) {\r\n        this.x = x ?? 0;\r\n        this.y = y ?? 0;\r\n        this.z = z ?? 0;\r\n    }\r\n\r\n    get r() { return this.x }\r\n    get g() { return this.y }\r\n    get b() { return this.z }\r\n\r\n    get xy() { return new vec3(this.x, this.y); }\r\n    get xyz() { return new vec3(this.x, this.y, this.z); }\r\n    get yx() { return new vec3(this.x, this.y); }\r\n    get yxz() { return new vec3(this.x, this.y, this.z); }\r\n\r\n    get xz() { return new vec3(this.x, 0, this.z); }\r\n    get xzy() { return new vec3(this.x, this.y, this.z); }\r\n    get zx() { return new vec3(this.x, 0, this.z); }\r\n    get zxy() { return new vec3(this.x, this.y, this.z); }\r\n\r\n    get yz() { return new vec3(0, this.y, this.z); }\r\n    get yzx() { return new vec3(this.x, this.y, this.z); }\r\n    get zy() { return new vec3(0, this.y, this.z); }\r\n    get zyx() { return new vec3(this.x, this.y, this.z); }\r\n\r\n    ////\r\n    get rg() { return new vec3(this.x, this.y); }\r\n    get rgb() { return new vec3(this.x, this.y, this.z); }\r\n    get gr() { return new vec3(this.x, this.y); }\r\n    get grb() { return new vec3(this.x, this.y, this.z); }\r\n\r\n    get rb() { return new vec3(this.x, 0, this.z); }\r\n    get rbg() { return new vec3(this.x, this.y, this.z); }\r\n    get br() { return new vec3(this.x, 0, this.z); }\r\n    get brg() { return new vec3(this.x, this.y, this.z); }\r\n\r\n    get gb() { return new vec3(0, this.y, this.z); }\r\n    get gbr() { return new vec3(this.x, this.y, this.z); }\r\n    get bg() { return new vec3(0, this.y, this.z); }\r\n    get bgr() { return new vec3(this.x, this.y, this.z); }\r\n}\r\n\r\nexport class vec4 {\r\n\r\n    @Property(\"float\")\r\n    x: float;\r\n    @Property(\"float\")\r\n    y: float;\r\n    @Property(\"float\")\r\n    z: float;\r\n    @Property(\"float\")\r\n    w: float;\r\n\r\n    constructor(x?: float, y?: float, z?: float, w?: float) {\r\n        this.x = x ?? 0;\r\n        this.y = y ?? 0;\r\n        this.z = z ?? 0;\r\n        this.w = w ?? 0;\r\n    }\r\n\r\n    get r() { return this.x }\r\n    get g() { return this.y }\r\n    get b() { return this.z }\r\n    get a() { return this.w }\r\n\r\n    get xy() { return new vec4(this.x, this.y); }\r\n    get xyz() { return new vec4(this.x, this.y, this.z); }\r\n    get xyzw() { return new vec4(this.x, this.y, this.z, this.w); }\r\n    get xywz() { return new vec4(this.x, this.y, this.z, this.w); }\r\n    get yx() { return new vec4(this.x, this.y); }\r\n    get yxz() { return new vec4(this.x, this.y, this.z); }\r\n    get yxzw() { return new vec4(this.x, this.y, this.z, this.w); }\r\n    get yxwz() { return new vec4(this.x, this.y, this.z, this.w); }\r\n\r\n    get xz() { return new vec4(this.x, 0, this.z); }\r\n    get xzy() { return new vec4(this.x, this.y, this.z); }\r\n    get xzyw() { return new vec4(this.x, this.y, this.z, this.w); }\r\n    get zx() { return new vec4(this.x, 0, this.z); }\r\n    get zxy() { return new vec4(this.x, this.y, this.z); }\r\n    get zxyw() { return new vec4(this.x, this.y, this.z, this.w); }\r\n\r\n    get yz() { return new vec4(0, this.y, this.z); }\r\n    get yzx() { return new vec4(this.x, this.y, this.z); }\r\n    get yzxw() { return new vec4(this.x, this.y, this.z, this.w); }\r\n    get zy() { return new vec4(0, this.y, this.z); }\r\n    get zyx() { return new vec4(this.x, this.y, this.z); }\r\n    get zyxw() { return new vec4(this.x, this.y, this.z, this.w); }\r\n\r\n    get xw() { return new vec4(0, 0, this.z, this.w); }\r\n    get xwy() { return new vec4(this.x, 0, this.z, this.w); }\r\n    get xwyz() { return new vec4(this.x, this.y, this.z, this.w); }\r\n    get wx() { return new vec4(this.x, 0, 0, this.w); }\r\n    get wxy() { return new vec4(this.x, this.y, 0, this.w); }\r\n    get wxyz() { return new vec4(this.x, this.y, this.z, this.w); }\r\n\r\n    get yw() { return new vec4(0, this.y, 0, this.w); }\r\n    get ywx() { return new vec4(this.x, this.y, 0, this.w); }\r\n    get ywxz() { return new vec4(this.x, this.y, this.z, this.w); }\r\n    get wy() { return new vec4(0, this.y, 0, this.w); }\r\n    get wyx() { return new vec4(this.x, this.y, 0, this.w); }\r\n    get wyxz() { return new vec4(this.x, this.y, this.z, this.w); }\r\n\r\n    ////\r\n    get rg() { return new vec4(this.x, this.y); }\r\n    get rgb() { return new vec4(this.x, this.y, this.z); }\r\n    get gr() { return new vec4(this.x, this.y); }\r\n    get grb() { return new vec4(this.x, this.y, this.z); }\r\n\r\n    get rb() { return new vec4(this.x, 0, this.z); }\r\n    get rbg() { return new vec4(this.x, this.y, this.z); }\r\n    get br() { return new vec4(this.x, 0, this.z); }\r\n    get brg() { return new vec4(this.x, this.y, this.z); }\r\n\r\n    get gb() { return new vec4(0, this.y, this.z); }\r\n    get gbr() { return new vec4(this.x, this.y, this.z); }\r\n    get bg() { return new vec4(0, this.y, this.z); }\r\n    get bgr() { return new vec4(this.x, this.y, this.z); }\r\n}\r\n\r\nexport class mat2 { }\r\nexport class mat3 { }\r\nexport class mat4 { }\r\n\r\nexport class sampler2D { }\r\nexport class samplerCube { }\r\n\r\nexport function _vec2(x: float, y: float) {\r\n    return new vec2();\r\n}\r\nexport function _vec3(x: float, y: float, z: float) {\r\n    return new vec3();\r\n}\r\nexport function _vec4(x: float, y: float, z: float, w: float) {\r\n    return new vec4();\r\n}\r\n\r\n/////////////////////////内置函数/////////////////////////////////\r\n\r\n///////////////////角度函数和三角函数\r\n/**角度值转弧度值 */\r\nexport function radians<T = float | vec2 | vec3 | vec4>(v: T): T { return null; }\r\n/**弧度值转角度值 */\r\nexport function degrees<T = float | vec2 | vec3 | vec4>(v: T): T { return null; }\r\n/**正弦值 */\r\nexport function sin<T = float | vec2 | vec3 | vec4>(v: T): T { return null; }\r\n/**余弦值 */\r\nexport function cos<T = float | vec2 | vec3 | vec4>(v: T): T { return null; }\r\n/**正切值 */\r\nexport function tan<T = float | vec2 | vec3 | vec4>(v: T): T { return null; }\r\n/**反正弦值(弧度) */\r\nexport function asin<T = float | vec2 | vec3 | vec4>(v: T): T { return null; }\r\n/**反余弦值(弧度) */\r\nexport function acos<T = float | vec2 | vec3 | vec4>(v: T): T { return null; }\r\n/**反正切值(弧度) */\r\nexport function atan<T = float | vec2 | vec3 | vec4>(v: T): T { return null; }\r\n///////////////////几何函数\r\n/**向量a长度 */\r\nexport function length<T = vec2 | vec3>(a: T): float { return null; }\r\n/**a、b两点之间距离 */\r\nexport function distance<T = vec2 | vec3>(a: T, b: T): T { return null; }\r\n/**两向量点积*/\r\nexport function dot<T = vec2 | vec3>(a: T, b: T): T { return null; }\r\n/**两向量叉乘*/\r\nexport function cross<T = vec2 | vec3>(a: T, b: T): T { return null; }\r\n/**向量a归一化,长度变为1，方向不变，即返回值单位向量*/\r\nexport function normalize<T = vec2 | vec3>(a: T): T { return null; }\r\n/**向量朝前：如果c、b两向量点乘小于0(dot(c,b) < 0)，则返回a，否则返回-a*/\r\nexport function faceforward<T = vec2 | vec3>(a: T, b: T, c: T): T { return null; }\r\n/**向量反射：比如通过入射光计算反射光方向向量,Fa表示反射平面的法线方向(单位向量)，Ru表示入射光线的方向(单位向量)，Zh表示折射率*/\r\nexport function reflect<T = vec2 | vec3>(Ru: T, Fa: T, Zh?: T): T { return null; }\r\n///////////////////指数函数\r\n/**x的n次幂函数*/\r\nexport function pow<T = float | vec2 | vec3 | vec4>(x: T, n: float): T { return null; }\r\n/**x的自然指数e*/\r\nexport function exp<T = float | vec2 | vec3 | vec4>(x): T { return null; }\r\n/**x自然对数*/\r\nexport function log<T = float | vec2 | vec3 | vec4>(x): T { return null; }\r\n/**2的指数x*/\r\nexport function exp2<T = float | vec2 | vec3 | vec4>(x): T { return null; }\r\n/**对数函数，底数为2*/\r\nexport function log2<T = float | vec2 | vec3 | vec4>(): T { return null; }\r\n/**平方根*/\r\nexport function sqrt<T = float | vec2 | vec3 | vec4>(): T { return null; }\r\n/**平方根倒数*/\r\nexport function inversesqrt<T = float | vec2 | vec3 | vec4>(): T { return null; }\r\n///////////////////通用函数\r\n/**绝对值*/\r\nexport function abs<T = float | vec2 | vec3 | vec4>(x): T { return null; }\r\n/**判断参数符号，x是正数返回1.0；x是0.0返回0.0，x是负数返回 - 1.0*/\r\nexport function sign<T = float | vec2 | vec3 | vec4>(x): T { return null; }\r\n/**取整，向下取整*/\r\nexport function floor<T = float | vec2 | vec3 | vec4>(x): T { return null; }\r\n/**取整，向上取整*/\r\nexport function ceil<T = float | vec2 | vec3 | vec4>(x): T { return null; }\r\n/**返回x小数部分*/\r\nexport function fract<T = float | vec2 | vec3 | vec4>(x): T { return null; }\r\n/**比较大小，返回较小的值*/\r\nexport function min<T = float | vec2 | vec3 | vec4>(a, b): T { return null; }\r\n/**比较大小，返回较大的值*/\r\nexport function max<T = float | vec2 | vec3 | vec4>(a, b): T { return null; }\r\n/**表示x–y * floor(x / y)*/\r\nexport function mod<T = float | vec2 | vec3 | vec4>(x, y): T { return null; }\r\n/**规整输入值, x与min和max比较大小返回中间大小的值，运算规则：min(max(x, min), max)*/\r\nexport function clamp<T = float | vec2 | vec3 | vec4>(x, min, max): T { return null; }\r\n/**线性插值计算, 插值区间[m, n], 插值系数k，插值计算公式：m(1 - k) + nk*/\r\nexport function mix<T = float | vec2 | vec3 | vec4>(m, n, k): T { return null; }\r\n///////////////////矩阵函数\r\n/**同行同列的元素相乘 */\r\nexport function matrixCompMult<T = mat2 | mat3 | mat4>(x: T, y: T): T { return null; }\r\n///////////////////向量关系函数\r\n/**x是否小于y, 参数是vec或ivec*/\r\nexport function lessThan<T = float | vec2 | vec3 | vec4>(x, y): T { return null; }\r\n/**x是否小于或等于y, 参数是vec或ivec*/\r\nexport function lessThanEqual<T = float | vec2 | vec3 | vec4>(x, y): T { return null; }\r\n/**x是否大于y, 参数是vec或ivec*/\r\nexport function greaterThan<T = float | vec2 | vec3 | vec4>(x, y): T { return null; }\r\n/**x是否大于或等于y, 参数是vec或ivec*/\r\nexport function greaterThanEqual<T = float | vec2 | vec3 | vec4>(x, y): T { return null; }\r\n/**x是否等于y，向量每个分量是否都相等, 参数是vec或ivec*/\r\nexport function equal<T = float | vec2 | vec3 | vec4>(x, y): T { return null; }\r\n/**x向量是否存在一个分量是true，参数是bvec*/\r\nexport function any<T = float | vec2 | vec3 | vec4>(x): T { return null; }\r\n/**x向量所有分量是否全部为true ，参数是bvec*/\r\nexport function all<T = float | vec2 | vec3 | vec4>(x): T { return null; }\r\n/**x所有分量执行逻辑非运算 ，参数是bvec*/\r\nexport function not<T = float | vec2 | vec3 | vec4>(x): T { return null; }\r\n///////////////////纹理采样函数\r\n/**\r\n * 2d纹理采样函数\r\n * @param sampler \r\n * @param uv \r\n * @param k 在为具有mipmap的纹理计算适当的细节级别之后，在执行实际纹理查找操作之前添加偏差\r\n * @returns \r\n */\r\nexport function texture2D(sampler: sampler2D, uv: vec2, k?: float) {\r\n    return new vec4();\r\n}\r\n/**\r\n * 立方体纹理采样函数\r\n * @param sampler \r\n * @param uv \r\n * @param k 在为具有mipmap的纹理计算适当的细节级别之后，在执行实际纹理查找操作之前添加偏差\r\n * @returns \r\n */\r\nexport function textureCube(sampler: samplerCube, uv: vec2, k?: float) {\r\n    return new vec4();\r\n}\r\n///////////////////其他函数\r\n/**根据两个数值生成阶梯函数\r\n * - 如果`x<edge`则返回`0.0`\r\n * - 否则返回`1.0`\r\n */\r\nexport function step<T = float | vec2 | vec3 | vec4>(edge: T, x: T): T { return null; }\r\n/**\r\n * 经过Hermite插值的阶梯函数。\r\n * - 如果`x<=edge0`则返回`0.0`，\r\n * - 如果`x>=edge1`则返回`1.0`，\r\n * - 否则按照如下方法返回插值\r\n * ----\r\n * ```c#\r\n * \r\n * (float|vec2|vec3|vec4) t;\r\n * t=clamp((x-edge0)/(edge1-edge0),0,1);\r\n * return t*t*(3-2*t);\r\n * \r\n * ```\r\n */\r\nexport function smoothstep<T = float | vec2 | vec3 | vec4>(edge0: T, edge1: T, x: T): T { return null; }\r\n\r\n//////////////////////////////////////////////////\r\n\r\n/**存储值 */\r\nexport function attribute(type: DefinedType) {\r\n    return function (clazz, name: string) {\r\n        let clzname = getClazzName(clazz);\r\n        if (!glslMap[clzname]) glslMap[clzname] = createGlslObject();\r\n        if (!glslMap[clzname].attributes) glslMap[clzname].attributes = [];\r\n        let attributes = glslMap[clzname].attributes;\r\n        attributes.push({ name: name, type: type });\r\n    }\r\n}\r\n\r\n/**固定值 */\r\nexport function uniform(type: DefinedType) {\r\n    return function (clazz, name: string) {\r\n        let clzname = getClazzName(clazz);\r\n        if (!glslMap[clzname]) glslMap[clzname] = createGlslObject();\r\n        if (!glslMap[clzname].uniforms) glslMap[clzname].uniforms = [];\r\n        let uniforms = glslMap[clzname].uniforms;\r\n        uniforms.push({ name: name, type: type });\r\n    }\r\n}\r\n\r\n/**传递值 */\r\nexport function varying(type: DefinedType) {\r\n    return function (clazz, name: string) {\r\n        let clzname = getClazzName(clazz);\r\n        if (!glslMap[clzname]) glslMap[clzname] = createGlslObject();\r\n        if (!glslMap[clzname].varyings) glslMap[clzname].varyings = [];\r\n        let varyings = glslMap[clzname].varyings;\r\n        varyings.push({ name: name, type: type });\r\n    }\r\n}\r\n\r\n/**\r\n * 定义函数\r\n * @param params 参数类型 - 类型相同时只需传入首个类型\r\n * @param type 函数类型 - 返回类型\r\n * @returns \r\n */\r\nexport function method(params: DefinedType | DefinedType[], type: DefinedType) {\r\n    return function (clazz, name: string) {\r\n        let clzname = getClazzName(clazz);\r\n        if (!glslMap[clzname]) glslMap[clzname] = createGlslObject();\r\n        if (!glslMap[clzname].methods) glslMap[clzname].methods = [];\r\n        let methods = glslMap[clzname].methods;\r\n        methods.push({ content: clazz[name].toString(), types: { params: params, type: type } });\r\n    }\r\n}\r\n\r\nfunction isWhitespace(character) {\r\n    switch (character) {\r\n        case \" \":\r\n        case \"\\t\":\r\n        case \"\\r\":\r\n        case \"\\n\":\r\n        case \"\\f\":\r\n        case \"  \":\r\n            return true;\r\n        default:\r\n            return false;\r\n    }\r\n}\r\nfunction trimLeft(v: string) {\r\n    let i = 0;\r\n    while (i < v.length) {\r\n        if (isWhitespace(v.charAt(i))) { i++; continue; }\r\n        break;\r\n    }\r\n    return v.substring(i);\r\n}\r\nfunction trimRight(v: string) {\r\n    let i = v.length - 1;\r\n    while (i >= 0) {\r\n        if (isWhitespace(v.charAt(i))) { i--; continue; }\r\n        break;\r\n    }\r\n    return v.substring(0, i);\r\n}\r\nfunction trim(v: string) {\r\n    v = trimLeft(v);\r\n    v = trimRight(v);\r\n    return v;\r\n}\r\n/**字符串必须为指定源内字符组成 */\r\nfunction iscompose(str: string, source: string) {\r\n    let i = 0;\r\n    while (i < str.length) {\r\n        if (source.search(str.charAt(i++)) == -1) return false;\r\n    }\r\n    return true;\r\n}\r\nfunction getReturnType(expression: string) {\r\n    if (/vec2\\(|vec3\\(|vec4\\(/.test(expression)) {\r\n        let index = expression.lastIndexOf(\").\");\r\n        if (iscompose(expression.substring(index + 2), \"xyzwrgba\")) {\r\n            switch (expression.length - index - 2) {\r\n                case 1: return \"float\";\r\n                case 2: return \"vec2\";\r\n                case 3: return \"vec3\";\r\n                case 4: return \"vec4\";\r\n            }\r\n        }\r\n        if (/vec2\\(/.test(expression)) return \"vec2\";\r\n        if (/vec3\\(/.test(expression)) return \"vec3\";\r\n        if (/vec4\\(/.test(expression)) return \"vec4\";\r\n    }\r\n    return \"float\";\r\n}\r\n\r\nexport function getGlslInfo(clazz) {\r\n    let clzname = getClazzName(clazz);\r\n    return glslMap[clzname];\r\n}\r\nexport function getGlsl(clazz) {\r\n    let clzname = getClazzName(clazz);\r\n    let info = glslMap[clzname];\r\n    return [\r\n        info.precision,\r\n        ...info.attributes.map(v => {\r\n            let type = EnumUtil.getKey(DefinedType, v.type);\r\n            return `attribute ${type} ${v.name};`\r\n        }),\r\n        ...info.uniforms.map(v => {\r\n            let type = EnumUtil.getKey(DefinedType, v.type);\r\n            return `uniform ${type} ${v.name};`\r\n        }),\r\n        ...info.varyings.map(v => {\r\n            let type = EnumUtil.getKey(DefinedType, v.type);\r\n            return `varying ${type} ${v.name};`\r\n        }),\r\n        ...info.methods.map(v => {\r\n            let results = v.content.match(/(\\()(.*)(\\))/);\r\n\r\n            let params=results[2].split(\",\").map((v1, i) => {\r\n                let type = Array.isArray(v.types.params) ? (i >= v.types.params.length ? v.types.params[v.types.params.length - 1] : v.types.params[i]) : v.types.params;\r\n                return `${EnumUtil.getKey(DefinedType, type)} ${v1.trim()}`;\r\n            });\r\n            let content=`${EnumUtil.getKey(DefinedType, v.types.type)} ${v.content.replace(results[2],params.join(\",\"))}`;\r\n            return content;\r\n        }),\r\n        `void ${((content: string) => {\r\n            let lines = content.split(\"\\n\");\r\n            lines = lines.map(v => {\r\n                v = trimLeft(v);\r\n                v = v.replace(/this./g, \"\");\r\n                v = v.replace(/_vec2/g, \"vec2\");\r\n                v = v.replace(/_vec3/g, \"vec3\");\r\n                v = v.replace(/_vec4/g, \"vec4\");\r\n                v = v.replace(/GLSL_[0-9]./g, \"\");\r\n                if (/let |var /g.test(v)) {\r\n                    //todo...类型推断\r\n                    let expression = v.split(\"=\")[1];\r\n                    expression = trim(expression);\r\n                    let type = getReturnType(expression);\r\n                    v = v.replace(/let |var /g, `${type} `);\r\n                }\r\n                return v;\r\n            });\r\n            return [lines.slice(0, lines.length - 1).join(\"\\n  \"), lines[lines.length - 1]].join(\"\\n\")\r\n            //return lines.join(\"\\n   \");\r\n        })(clazz.prototype.main.toString())}`\r\n    ].join(\"\\n\");\r\n}\r\n\r\n/**顶点着色器模板 */\r\nexport class GLSL_Vertex {\r\n    protected gl_Position: vec4;\r\n    protected main() {\r\n    }\r\n}\r\n\r\n/**片段着色器模板 */\r\nexport class GLSL_Fragment {\r\n    protected gl_FragColor: vec4;\r\n    protected u_image: sampler2D;\r\n    protected main() {\r\n    }\r\n}","import { RenderProgram } from \"./RenderProgram\";\r\n\r\nexport class RenderContext {\r\n    public gl: WebGLRenderingContext;\r\n    public frame: number;\r\n    private programs: RenderProgram[];\r\n    private ticks: Function[];\r\n    constructor(canvas: HTMLCanvasElement) {\r\n        this.gl = Utils.getWebGLContext(canvas);\r\n        if (!this.gl) {\r\n            console.log('Failed to get the rendering context for WebGL');\r\n            return;\r\n        }\r\n        this.frame = 0;\r\n        this.programs = [];\r\n        this.ticks = [];\r\n        let __this = this;\r\n        function __loop() {\r\n            __this.frame++;\r\n            for (let i = 0; i < __this.ticks.length; i++) {\r\n                __this.ticks[i](__this.frame);\r\n            }\r\n            window.requestAnimationFrame(__loop);\r\n        }\r\n        __loop();\r\n    }\r\n\r\n    createProgram() {\r\n        let program = new RenderProgram(this.gl);\r\n        this.programs.push(program);\r\n        return program;\r\n    }\r\n\r\n    updateRender() {\r\n        for (let i = 0; i < this.programs.length; i++) {\r\n            this.programs[i].updateRender();\r\n        }\r\n    }\r\n\r\n    tick(func: (frame: number) => void) {\r\n        this.ticks.push(func);\r\n    }\r\n}","import { GLSL_Fragment, GLSL_Vertex } from \"./GLSL\";\r\nimport { Shader } from \"./Shader\";\r\n\r\nexport class RenderProgram {\r\n    public gl: WebGLRenderingContext;\r\n    private shaders: Shader[];\r\n    constructor(gl: WebGLRenderingContext) {\r\n        this.gl = gl;\r\n        this.shaders = [];\r\n    }\r\n    createShader<VS>(vs: { new(): GLSL_Vertex }, ps: { new(): GLSL_Fragment }) {\r\n        let shader = new Shader(this.gl, vs, ps);\r\n        this.shaders.push(shader);\r\n        return shader;\r\n    }\r\n\r\n    clear(){\r\n        let gl = this.gl;\r\n        // Specify the color for clearing <canvas>\r\n        gl.clearColor(0, 0, 0, 1);\r\n        // Clear <canvas>\r\n        gl.clear(gl.COLOR_BUFFER_BIT);\r\n    }\r\n\r\n    updateRender() {\r\n        this.clear();\r\n        for (let i = 0; i < this.shaders.length; i++) {\r\n            this.shaders[i].updateRender();\r\n        }\r\n    }\r\n}","import { DefinedType, getGlsl, getGlslInfo, GLSL_Fragment, GLSL_Vertex } from \"./GLSL\";\r\n\r\nexport class Shader {\r\n    public gl: WebGLRenderingContext;\r\n    private buffers: ShaderBuffer[];\r\n    private textures: Texture[];\r\n    private properties: Map<string, Uniform | Attribute>;\r\n    public vertexString: string;\r\n    public framentString: string;\r\n    constructor(gl: WebGLRenderingContext, vs: { new(): GLSL_Vertex }, ps: { new(): GLSL_Fragment }) {\r\n        this.gl = gl;\r\n        //console.log(getGlsl(vs));\r\n        this.vertexString = getGlsl(vs);\r\n        this.framentString = getGlsl(ps);\r\n        if (!Utils.initShaders(this.gl, this.vertexString, this.framentString)) {\r\n            console.error('Failed to intialize shaders.');\r\n            return;\r\n        }\r\n        this.properties = new Map();\r\n        this.buffers = [];\r\n        this.textures = [];\r\n\r\n        let vsInfo = getGlslInfo(vs);\r\n        vsInfo.attributes.forEach(value => this.createAttribute(value.name, value.type));\r\n        vsInfo.uniforms.forEach(value => this.createUniform(value.name, value.type));\r\n        // vsInfo.varyings.forEach(value => this.createVarying(value.name, value.type));\r\n        let psInfo = getGlslInfo(ps);\r\n        psInfo.attributes.forEach(value => this.createAttribute(value.name, value.type));\r\n        psInfo.uniforms.forEach(value => this.createUniform(value.name, value.type));\r\n        // psInfo.varyings.forEach(value => this.createVarying(value.name, value.type));\r\n    }\r\n\r\n    updateRender() {\r\n        this.properties.forEach((value) => {\r\n            value.upload();\r\n        });\r\n        for (let i = 0; i < this.buffers.length; i++) {\r\n            this.buffers[i].draw(this.gl);\r\n        }\r\n    }\r\n\r\n    get(name: string) {\r\n        return this.properties.get(name)\r\n    }\r\n    getAttribute(name: string) {\r\n        return this.properties.get(name) as Attribute\r\n    }\r\n    set(name: string, value: any) {\r\n        if (!this.properties.has(name)) return;\r\n        this.properties.get(name)?.set(value);\r\n    }\r\n\r\n    createUniform(name: string, type: DefinedType) {\r\n        if (this.properties.has(name)) return this.properties.get(name);\r\n        let location = this.gl.getUniformLocation(this.gl.program, name as string);\r\n        if (location < 0) {\r\n            console.error(`Failed to get the storage location of ${name as string}`);\r\n            return;\r\n        }\r\n        let uniform = new Uniform(name as string, type, location);\r\n        uniform.gl = this.gl;\r\n        this.properties.set(name, uniform);\r\n        return uniform;\r\n    }\r\n\r\n    createAttribute(name: string, type: DefinedType) {\r\n        if (this.properties.has(name)) return this.properties.get(name);\r\n        let location = this.gl.getAttribLocation(this.gl.program, name as string);\r\n        if (location < 0) {\r\n            console.error(`Failed to get the storage location of ${name as string}`);\r\n            return;\r\n        }\r\n        let attribute = new Attribute(name as string, type, location);\r\n        attribute.gl = this.gl;\r\n        this.properties.set(name, attribute);\r\n        return attribute;\r\n    }\r\n\r\n    /**\r\n     * 创建Buffer\r\n     * @param data 写入缓冲区对象的数据(类型化数组)\r\n     * @param elementLength 元素长度 每个元素存在于数据中的长度 \r\n     * @param usage 表示程序将如何使用存储在缓冲区对象中的数据。该参数将帮助WebGL优化操作,但是就算你传入了错误的值,也不会终止程序(仅仅是降低程序的效率)\r\n     *  - `gl.STATIC_DRAW` 只会向缓冲区对象中写入一次数据,但需要绘制很多次\r\n     *  - `gl.STREAM_DRAW` 只会向缓冲区对象中写入一次数据,然后绘制若干次\r\n     *  - `gl.DYNAMIC_DRAW` 会向缓冲区对象中多次写入数据,并绘制很多次\r\n     * @returns \r\n     */\r\n    createBuffer(data: Float32Array, elementLength: number, usage: WebGLRenderingContextBase[\"STATIC_DRAW\"] | WebGLRenderingContextBase[\"STREAM_DRAW\"] | WebGLRenderingContextBase[\"DYNAMIC_DRAW\"]) {\r\n        // Create a buffer object\r\n        var glbuffer = this.gl.createBuffer();\r\n        if (!glbuffer) {\r\n            console.log('Failed to create the buffer object');\r\n            return;\r\n        }\r\n        this.gl.bindBuffer(this.gl.ARRAY_BUFFER, glbuffer);\r\n        // Write date into the buffer object\r\n        this.gl.bufferData(this.gl.ARRAY_BUFFER, data, usage);\r\n\r\n        let buffer = new ShaderBuffer(glbuffer, data, elementLength);\r\n        this.buffers.push(buffer);\r\n        return buffer;\r\n    }\r\n\r\n    /**\r\n     * 创建纹理\r\n     * @param name 取样器名称\r\n     * @param image 已加载完成的HTMLImageElement元素对象\r\n     * @param texturePosition 纹理单元队列 默认0位 在片段着色器中至少有8个纹理单元\r\n     * @returns \r\n     */\r\n    createTexture(name: string, image: HTMLImageElement, texturePosition: number = 0) {\r\n        var gltexture = this.gl.createTexture();   // Create a texture object\r\n        if (!gltexture) {\r\n            console.log('Failed to create the texture object');\r\n            return false;\r\n        }\r\n        let uniform = this.createUniform(name, DefinedType.sampler2D);\r\n        let texture = new Texture(uniform, gltexture, image, texturePosition);\r\n        texture.upload(this.gl);\r\n        this.textures.push(texture);\r\n        return texture;\r\n    }\r\n\r\n    printf() {\r\n        console.group(\"shader:\");\r\n        console.group(\"vertex:\");\r\n        console.info(`%c${this.vertexString}`, \"color:grey\");\r\n        console.groupEnd();\r\n        console.group(\"frament:\");\r\n        console.info(`%c${this.framentString}`, \"color:grey\");\r\n        console.groupEnd();\r\n        console.groupEnd();\r\n    }\r\n}\r\n\r\nexport class ShaderBuffer {\r\n    public count: number;\r\n    public buffer: WebGLBuffer;\r\n    public data: Float32Array;\r\n    public elementLength: number;\r\n    constructor(buffer: WebGLBuffer, data: Float32Array, elementLength: number) {\r\n        this.buffer = buffer;\r\n        this.data = data;\r\n        this.elementLength = elementLength;\r\n        this.count = data.length / elementLength; // The number of vertices\r\n    }\r\n\r\n    draw(gl: WebGLRenderingContext) {\r\n        // Draw the rectangle\r\n        gl.drawArrays(gl.TRIANGLES, 0, this.count);\r\n    }\r\n}\r\n\r\nexport abstract class ShaderProperty {\r\n    public name: string;\r\n    public type: DefinedType;\r\n    public location: WebGLUniformLocation | number;\r\n    public value: number[];\r\n    public gl: WebGLRenderingContext\r\n    constructor(name: string, type: DefinedType, location: WebGLUniformLocation | number) {\r\n        this.name = name;\r\n        this.type = type;\r\n        this.location = location;\r\n    }\r\n    get() {\r\n        return this.value;\r\n    }\r\n    set(...vals) {\r\n        this.value = vals;\r\n        let gl = this.gl;\r\n        switch (this.type) {\r\n            case DefinedType.sampler2D:\r\n            case DefinedType.int:\r\n                if (Array.isArray(this.value)) {\r\n                    switch (this.value.length) {\r\n                        case 1: gl.uniform1iv(this.location, this.value); break\r\n                        case 2: gl.uniform2iv(this.location, this.value); break\r\n                        case 3: gl.uniform3iv(this.location, this.value); break\r\n                        case 4: gl.uniform4iv(this.location, this.value); break\r\n                    }\r\n                } else {\r\n                    gl.uniform1i(this.location, this.value);\r\n                }\r\n                break;\r\n            case DefinedType.float:\r\n            case DefinedType.vec2:\r\n            case DefinedType.vec3:\r\n            case DefinedType.vec4:\r\n                if (Array.isArray(this.value)) {\r\n                    switch (this.value.length) {\r\n                        case 1: gl.uniform1fv(this.location, this.value); break\r\n                        case 2: gl.uniform2fv(this.location, this.value); break\r\n                        case 3: gl.uniform3fv(this.location, this.value); break\r\n                        case 4: gl.uniform4fv(this.location, this.value); break\r\n                    }\r\n                } else {\r\n                    gl.uniform1f(this.location, this.value);\r\n                }\r\n                break;\r\n        }\r\n\r\n    }\r\n    upload() {\r\n    }\r\n}\r\n\r\nexport class Attribute extends ShaderProperty {\r\n    public buffer: ShaderBuffer;\r\n    public length: number;\r\n    public position: number;\r\n    constructor(name: string, type: DefinedType, location: WebGLUniformLocation | number) {\r\n        super(name, type, location);\r\n    }\r\n    /**\r\n     * 链接缓冲区数据\r\n     * @param gl gl上下文\r\n     * @param buffer 创建的缓冲区数据封装对象\r\n     * @param length 取缓冲区数据元素的长度 \r\n     * @param position 取缓冲区数据元素的起始位置\r\n     * - 比如缓冲区数据[x,y,r,g,b,....],其元素长度为5 \r\n     * - position的长度为2 位置为0\r\n     * - color的长度为3 位置为2\r\n     */\r\n    linkBuffer(buffer: ShaderBuffer, length: number, position: number) {\r\n        this.buffer = buffer;\r\n        this.length = length;\r\n        this.position = position;\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param gl \r\n     */\r\n    upload() {\r\n        let gl: WebGLRenderingContext = this.gl;\r\n        //数组中每个元素的字节大小。\r\n        //const FSIZE = this.buffer.data.BYTES_PER_ELEMENT;\r\n        // Assign the buffer object to a_Position variable\r\n        //指定分配 attribute 中的存储地址\r\n        let location = this.location as number;\r\n        //指定缓冲区每个顶点分量的个数 1-4\r\n        let size = this.length;\r\n        //指定数据的类型\r\n        let type = gl.FLOAT;\r\n        //是否将非浮点型数据归一化 - 默认 true\r\n        let normalized = false;\r\n        //指定相邻两个顶点间的字节数 - 默认 0\r\n        let stride = this.buffer.data.BYTES_PER_ELEMENT * this.buffer.elementLength;\r\n        //指定缓冲区对象中的偏移量 - 默认 0\r\n        let offset = this.buffer.data.BYTES_PER_ELEMENT * this.position;\r\n        gl.vertexAttribPointer(location, size, type, normalized, stride, offset);\r\n        // Enable the assignment to a_Position variable\r\n        gl.enableVertexAttribArray(this.location as number);\r\n    }\r\n}\r\n\r\nexport class Uniform extends ShaderProperty {\r\n    constructor(name: string, type: DefinedType, location: WebGLUniformLocation) {\r\n        super(name, type, location);\r\n    }\r\n}\r\n\r\n/**纹理 */\r\nexport class Texture {\r\n    public sample: Uniform;\r\n    public gltexture: WebGLTexture;\r\n    public image: HTMLImageElement;\r\n    public position: number;\r\n    constructor(sample: Uniform, gltexture: WebGLTexture, image: HTMLImageElement, position: number = 0) {\r\n        this.sample = sample;\r\n        this.gltexture = gltexture;\r\n        this.image = image;\r\n        this.position = position;\r\n    }\r\n\r\n    upload(gl: WebGLRenderingContext) {\r\n        // Enable texture unit0\r\n        gl.activeTexture(gl.TEXTURE0 + this.position);\r\n        // Bind the texture object to the target\r\n        gl.bindTexture(gl.TEXTURE_2D, this.gltexture);\r\n        // Set the texture parameters\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\r\n        // gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\r\n        // gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\r\n        // gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\r\n        // gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\r\n        // Set the texture image\r\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, this.image);\r\n        // Set the texture unit 0 to the sampler\r\n        // gl.uniform1i(u_Sampler, 0);\r\n        this.sample.set(0);\r\n    }\r\n}","export class EnumUtil {\r\n    static getKey(enmu,value){\r\n        for(let k in enmu){\r\n            if(enmu[k]==value) return k;\r\n        }\r\n        return '';\r\n    }\r\n\r\n    static getValue(enmu,key){\r\n        for(let k in enmu){\r\n            if(k==key) return enmu[k];\r\n        }\r\n        return '';\r\n    }\r\n}\r\n\r\nexport class ColorUtil {\r\n\r\n    /**\r\n     * 从颜色值中提取三原色 \r\n     * @param color\r\n     * @return \r\n     */\r\n    static extract(color: number): { r: number, g: number, b: number } {\r\n        return {\r\n            r: ((color & 0xff0000) >> 16),\r\n            g: ((color & 0x00ff00) >> 8),\r\n            b: ((color & 0x0000ff))\r\n        }\r\n    }\r\n    /**\r\n     * 将三原色合并 \r\n     * @param r\r\n     * @param g\r\n     * @param b\r\n     * @return \r\n     */\r\n    static merge(r: number, g: number, b: number): number {\r\n        return Math.max(0, Math.min(r, 0xFF)) << 16 | Math.max(0, Math.min(g, 0xFF)) << 8 | Math.max(0, Math.min(b, 0xFF));\r\n    }\r\n\r\n    static averageColor(color1, color2) {\r\n        let { r: r1, g: g1, b: b1 } = this.extract(color1);\r\n        let { r: r2, g: g2, b: b2 } = this.extract(color2);\r\n        return this.merge(\r\n            Math.floor(r1 + r2 / 2),\r\n            Math.floor(g1 + g2 / 2),\r\n            Math.floor(b1 + b2 / 2)\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport class Hashtable<T> {\r\n    private _map: any;\r\n    private _list: T[];\r\n\r\n    constructor() {\r\n        this._map = {};\r\n        this._list = [];\r\n    }\r\n\r\n    set(key: string, value: T): T {\r\n        this._map[key] = { value: value, index: this._list.length };\r\n        this._list.push(value);\r\n        return value;\r\n    }\r\n\r\n    has(key: string): boolean {\r\n        return !!this._map[key];\r\n    }\r\n\r\n    get(key: string): T {\r\n        return this._map[key] ? this._map[key].value : null;\r\n    }\r\n\r\n    remove(key: string) {\r\n        if (this._map.hasOwnProperty(key)) {\r\n            let info = this._map[key];\r\n            let index = info.index;\r\n            let res = info.value;\r\n            this._map[key] = null;\r\n            delete this._map[key];\r\n            this._list.splice(index, 1);\r\n            return res;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    forEach(callbackfn: (value: T, index: number) => void, thisArg?: any) {\r\n        let list = this._list;\r\n        let length = list.length;\r\n        if (!!thisArg) callbackfn = callbackfn.bind(thisArg);\r\n        for (let i = 0; i < length; i++) {\r\n            callbackfn(list[i], i);\r\n        }\r\n    }\r\n    get list() { return this._list }\r\n\r\n    get length() { return this._list.length }\r\n\r\n    clone(): Hashtable<T> {\r\n        let map = new Hashtable<T>();\r\n        map._list = this._list.concat();\r\n        map._map = Object.assign({}, map._map);\r\n        return map;\r\n    }\r\n}\r\n\r\n","import { HelloTriangle } from \"./HelloTriangle\";\r\nimport { HelloWebGL } from \"./HelloWebGL\";\r\n\r\nnew HelloWebGL();"],"sourceRoot":""}