var _0x551e5a=_0xfb52;(function(_0x1f17ca,_0x5638cd){var _0x590a44=_0xfb52,_0x5a1410=_0x1f17ca();while(!![]){try{var _0x4a09cf=parseInt(_0x590a44(422))/1*(parseInt(_0x590a44(182))/2)+parseInt(_0x590a44(261))/3+-parseInt(_0x590a44(297))/4+parseInt(_0x590a44(305))/5*(-parseInt(_0x590a44(357))/6)+parseInt(_0x590a44(224))/7*(-parseInt(_0x590a44(362))/8)+-parseInt(_0x590a44(293))/9*(-parseInt(_0x590a44(285))/10)+-parseInt(_0x590a44(370))/11*(parseInt(_0x590a44(472))/12);if(_0x4a09cf===_0x5638cd)break;else _0x5a1410["push"](_0x5a1410["shift"]())}catch(_0x479237){_0x5a1410["push"](_0x5a1410["shift"]())}}})(_0x17f7,607204);var __reflect=this&&this["__reflect"]||function(_0x5e4f0c,_0x2116fc,_0x38533c){var _0x2d2dee=_0xfb52;_0x5e4f0c[_0x2d2dee(268)]=_0x2116fc,_0x38533c?_0x38533c[_0x2d2dee(342)](_0x2116fc):_0x38533c=[_0x2116fc],_0x5e4f0c[_0x2d2dee(204)]=_0x5e4f0c[_0x2d2dee(204)]?_0x38533c[_0x2d2dee(295)](_0x5e4f0c[_0x2d2dee(204)]):_0x38533c},__extends=this&&this["__extends"]||function(_0x4d0e26,_0x349489){var _0x376935=_0xfb52;function _0x214946(){var _0x2cbf6d=_0xfb52;this[_0x2cbf6d(409)]=_0x4d0e26}for(var _0x508408 in _0x349489)_0x349489[_0x376935(183)](_0x508408)&&(_0x4d0e26[_0x508408]=_0x349489[_0x508408]);_0x214946[_0x376935(390)]=_0x349489[_0x376935(390)],_0x4d0e26[_0x376935(390)]=new _0x214946},__awaiter=this&&this["__awaiter"]||function(_0x25af0f,_0x5c92fb,_0x2ac047,_0x29e4a9){var _0x2b6d0a=_0xfb52,_0x4630c1={PqJWu:function(_0x1dbfae,_0x5d63f6){return _0x1dbfae(_0x5d63f6)},ouUKY:function(_0x50354e,_0x2acb7e){return _0x50354e(_0x2acb7e)},EpzJM:function(_0x3d3b01,_0x115730){return _0x3d3b01(_0x115730)},ozVvx:_0x2b6d0a(443),BPjEA:function(_0x285ca8,_0xa42057){return _0x285ca8(_0xa42057)},AwqNx:function(_0x4fe1fb,_0x13aef4){return _0x4fe1fb(_0x13aef4)}};return new(_0x2ac047||(_0x2ac047=Promise))(function(_0x49ebcc,_0x502d2d){var _0x49001e=_0x2b6d0a;function _0x612265(_0x3b01c0){var _0x116f1=_0xfb52;try{_0x4630c1[_0x116f1(411)](_0x3cca9e,_0x29e4a9[_0x116f1(165)](_0x3b01c0))}catch(_0x192d8c){_0x4630c1["ouUKY"](_0x502d2d,_0x192d8c)}}function _0x485ee7(_0x495f8b){var _0x1a26cc=_0xfb52;try{_0x4630c1[_0x1a26cc(311)](_0x3cca9e,_0x29e4a9[_0x4630c1[_0x1a26cc(233)]](_0x495f8b))}catch(_0x44cc7b){_0x4630c1[_0x1a26cc(269)](_0x502d2d,_0x44cc7b)}}function _0x3cca9e(_0x298551){var _0x34ebba=_0xfb52;_0x298551["done"]?_0x4630c1[_0x34ebba(269)](_0x49ebcc,_0x298551[_0x34ebba(259)]):new _0x2ac047(function(_0x3231b3){_0x3231b3(_0x298551["value"])})[_0x34ebba(197)](_0x612265,_0x485ee7)}_0x4630c1["AwqNx"](_0x3cca9e,(_0x29e4a9=_0x29e4a9[_0x49001e(416)](_0x25af0f,_0x5c92fb||[]))["next"]())})},__generator=this&&this[_0x551e5a(168)]||function(_0x3cf26a,_0x1f7c74){var _0x2fa6ff=_0x551e5a,_0x40f050={prNWd:_0x2fa6ff(402),qOpvv:function(_0x507c33,_0x540572){return _0x507c33&_0x540572},Tnqel:"return",lBgRm:_0x2fa6ff(165),lSBHg:function(_0x577c11,_0x4c40a7){return _0x577c11===_0x4c40a7},gtoHF:function(_0x2a25ca,_0x32b417){return _0x2a25ca===_0x32b417},zjaWm:function(_0x40e2b4,_0x38f0d8){return _0x40e2b4>_0x38f0d8},LKCjS:function(_0x4eefbb,_0x271be4){return _0x4eefbb<_0x271be4},dAEzM:function(_0x4ecefc,_0x5eeedf){return _0x4ecefc(_0x5eeedf)},AhelI:function(_0x592eda,_0x2f56d0){return _0x592eda(_0x2f56d0)},hierj:function(_0x2fc50a,_0x57419d){return _0x2fc50a==_0x57419d},GrthI:_0x2fa6ff(426)};function _0x39178a(_0xed4f8e){return function(_0x114183){return _0x2891f0([_0xed4f8e,_0x114183])}}function _0x2891f0(_0x4d749d){var _0x5692a2=_0x2fa6ff;if(_0x40ea66)throw new TypeError(_0x40f050[_0x5692a2(344)]);for(;_0x46b455;)try{if(_0x40ea66=1,_0x2ea9ba&&(_0x2b6b26=_0x2ea9ba[_0x40f050[_0x5692a2(468)](2,_0x4d749d[0])?_0x40f050[_0x5692a2(164)]:_0x4d749d[0]?"throw":_0x40f050["lBgRm"]])&&!(_0x2b6b26=_0x2b6b26[_0x5692a2(479)](_0x2ea9ba,_0x4d749d[1]))["done"])return _0x2b6b26;switch(_0x2ea9ba=0,_0x2b6b26&&(_0x4d749d=[0,_0x2b6b26[_0x5692a2(259)]]),_0x4d749d[0]){case 0:case 1:_0x2b6b26=_0x4d749d;break;case 4:return _0x46b455[_0x5692a2(413)]++,{value:_0x4d749d[1],done:!1};case 5:_0x46b455[_0x5692a2(413)]++,_0x2ea9ba=_0x4d749d[1],_0x4d749d=[0];continue;case 7:_0x4d749d=_0x46b455[_0x5692a2(404)][_0x5692a2(223)](),_0x46b455[_0x5692a2(249)][_0x5692a2(223)]();continue;default:if(_0x2b6b26=_0x46b455[_0x5692a2(249)],!(_0x2b6b26=_0x2b6b26[_0x5692a2(451)]>0&&_0x2b6b26[_0x2b6b26[_0x5692a2(451)]-1])&&(_0x40f050["lSBHg"](6,_0x4d749d[0])||_0x40f050[_0x5692a2(367)](2,_0x4d749d[0]))){_0x46b455=0;continue}if(_0x40f050["lSBHg"](3,_0x4d749d[0])&&(!_0x2b6b26||_0x40f050[_0x5692a2(359)](_0x4d749d[1],_0x2b6b26[0])&&_0x4d749d[1]<_0x2b6b26[3])){_0x46b455[_0x5692a2(413)]=_0x4d749d[1];break}if(_0x40f050["lSBHg"](6,_0x4d749d[0])&&_0x40f050[_0x5692a2(433)](_0x46b455[_0x5692a2(413)],_0x2b6b26[1])){_0x46b455["label"]=_0x2b6b26[1],_0x2b6b26=_0x4d749d;break}if(_0x2b6b26&&_0x46b455["label"]<_0x2b6b26[2]){_0x46b455[_0x5692a2(413)]=_0x2b6b26[2],_0x46b455[_0x5692a2(404)][_0x5692a2(342)](_0x4d749d);break}_0x2b6b26[2]&&_0x46b455[_0x5692a2(404)][_0x5692a2(223)](),_0x46b455["trys"]["pop"]();continue}_0x4d749d=_0x1f7c74[_0x5692a2(479)](_0x3cf26a,_0x46b455)}catch(_0x19d0e4){_0x4d749d=[6,_0x19d0e4],_0x2ea9ba=0}finally{_0x40ea66=_0x2b6b26=0}if(_0x40f050["qOpvv"](5,_0x4d749d[0]))throw _0x4d749d[1];return{value:_0x4d749d[0]?_0x4d749d[1]:void 0,done:!0}}var _0x40ea66,_0x2ea9ba,_0x2b6b26,_0x2a2db6,_0x46b455={label:0,sent:function(){if(_0x40f050["qOpvv"](1,_0x2b6b26[0]))throw _0x2b6b26[1];return _0x2b6b26[1]},trys:[],ops:[]};return _0x2a2db6={next:_0x40f050[_0x2fa6ff(405)](_0x39178a,0),throw:_0x40f050["AhelI"](_0x39178a,1),return:_0x39178a(2)},_0x40f050[_0x2fa6ff(179)](_0x40f050[_0x2fa6ff(484)],typeof Symbol)&&(_0x2a2db6[Symbol[_0x2fa6ff(267)]]=function(){return this}),_0x2a2db6},ecs;function _0x17f7(){var _0x45f852=["rnMbX","GUPbz","defineProperty","onUpdate","TJyAP","NbNUj","pSqdS","onDisable","BRMXw","onCreate","dispatchEventWith","bind","getLayerByName","cWHRm","onLoad","layerData","jkQhg","Entity","prototype","olZZw","sin","RxoGB","myFEs","DisplayObject","addLifecycleListener","sOgYe","没有组件可以移除...","nXdtF","ColorUtil","Point","Generator is already executing.","LTCyg","ops","dAEzM","_astar","ObjectPool","TMXTilemap","constructor","OKunc","PqJWu","rows","label","ticker","cameraPosition","apply","loop","render","enabled","lightPos","OTAzv","1039AjcwXN","xUEza","ZWqoX","warn","function","HQDvN","RIGHT","mfpQw","KsaHH","RBoqS","scaleY","LKCjS","//{lights}","scaleX","uniform vec2 lightPos","onStart","zkGCX","shader"," = addlight(vTextureCoord, vec2(lightPos","sign","stageX","throw","setWalkableAt","resume","MUuwr","UvrWp","_grid","stage","initialize","length",".x,1.0-lightPos","__created","setTo","addTo","VlRmY","vDfGT","yBcLY","dQGjx","PpZaB","pyWPx","vBOQj","idel","removeEventListener","MathUtil","abs","has","qOpvv","onPause","addEventListener","max","84phXkEE","gvoEM","debug","Keyboard","touchEnabled","Component","split","call","removeChild","Actor","addChild","DiagonalMovement","GrthI","LgEgB","RECTi","hocBx","updateShader","uninitialize","//{uniforms}","wLfPm","NvnAE","AStarFinder","destory","clear","FljbO","pNBAz","Tnqel","next","ogWVm","_fragSrc","__generator","uniform vec4 lightColor","waitTileSetsLoad","GczWC","remove","PNFMu","_action","getResByUrl","_comps","hHgJJ","find","hierj","Main","IStSc","678qfKnAg","hasOwnProperty","lZpxD","tndEJ","CBNmE","preload","PCNXU","createTexture","qAMWs","update","Objects","smoothing","add","load","\n   vec4 light =","then","FZoCi","wCadi","yTZpD","nfKxV","TouchEvent","light","__types__","Hashtable","get","nXLeN","forEach","_bindTarget","resource/dragon_.png","shift","run","Wall","arqdA","onTouch","zvwWq","DJjkA","yUjxn","7|1|3|0|5|2|6|4","LkiGU","HZAWG","width","pop","4020583iZwwPD","4|3|2|0|1","lightRadius","_lights","wEWgZ","_tile","set","type","_shader","ozVvx","LUdMo","tQMAR","frame","getQualifiedClassName","Floor","ojhyY","$fragmentSrc","1|5|3|4|0|2","path","height","dGgKy","Shader","from","pwDSS","replace","trys","anchor","bAVuL","RxcAZ","owHnZ","mGqGa","dXXVc","NwsVs","ecs.Component","onDestory","value","isDown","3358728DHlVhj",".y), lightRadius","stageY","zUmDS","KeyControlComp","addLight","iterator","__class__","BPjEA","createByRaw","hashCode","yFJGk","PxJyT","entity","DyvUH","game.kevin.fruitlegend","   vec4 light","extract","create","clearState","oJYpD","onEnable","jSqHj","mHnOg","10zyjzzK","lifecycle","Map","EiAir","xgXYX","floor","onResume","_raw","7185627ugNYZL","__onCreate","concat","uniform float lightRadius","3300372ysSPSN","u_time","setTile","sent","loadMap","removeTweens","play","TapControlComp","40NBQeDm","moveStep","runGame","dXpVv","raw","TOUCH_TAP","EpzJM","_bitmap","action","MapBitmap","cols","DisplayObjectContainer","HJLLJ","MapGridComp","findPath","endNode","yJDTt","DyEPg","setUniform","moveToTile","key","join","parent","Tween","UOHBX","min","resource/default.res.json","data",", vec4(0.0, 0.0, 0.0, 1.0));","getUniform","BEXkB","eUDCv","callLater","fAscu","_enabled","resource/test.tmx","resource/","push","Ygwam","prNWd","mAhFP","$list","idle","Animation","lightColor","isWalkable","speed","CkeyA","eHAGX","DBmVG","YTPfB","_actions","175926MFzqGS","lastX","zjaWm","MXTOf","updateHandler","8zfBKfr","scale","lsDzA","QoXZv","pause","gtoHF","MxEmF","VJFhH","45518tMylBo","kzEda"];_0x17f7=function(){return _0x45f852};return _0x17f7()}!function(_0x5a425f){var _0xba4ffc=_0x551e5a,_0x3a29e9={mfpQw:function(_0x5447f9,_0xf8a95){return _0x5447f9+_0xf8a95},MCSZb:function(_0x2a3d05,_0x150bfd){return _0x2a3d05<_0x150bfd},DJjkA:function(_0x389503,_0x23caf8){return _0x389503<_0x23caf8},wZWjV:"重复添加组件...",EiAir:_0xba4ffc(398),qAMWs:_0xba4ffc(309),dEdWV:function(_0x382cd4,_0x56cd7a){return _0x382cd4!=_0x56cd7a},xUEza:_0xba4ffc(419),FZoCi:function(_0xf60461,_0x180abc,_0x4c129a){return _0xf60461(_0x180abc,_0x4c129a)},mGqGa:function(_0x3843a5,_0x4849fa,_0x42429d,_0x529ef7){return _0x3843a5(_0x4849fa,_0x42429d,_0x529ef7)},YTPfB:"vitamin.IPool"};function _0xb5fce1(_0x52ef2e){var _0x32580e=_0xba4ffc;if(_0x4ef2e2[_0x32580e(467)](_0x52ef2e))return _0x4ef2e2[_0x32580e(206)](_0x52ef2e);var _0x4c7adb=new _0x564167(null);return _0x4ef2e2["set"](_0x52ef2e,_0x4c7adb),_0x4c7adb}function _0x51e4c1(_0x37544c){var _0x4a326d=_0xba4ffc,_0x94d321=_0x37544c instanceof egret[_0x4a326d(395)]?_0x3a29e9["mfpQw"](_0x37544c[_0x4a326d(271)],""):_0x37544c;return _0x4ef2e2["has"](_0x94d321)?_0x4ef2e2[_0x4a326d(206)](_0x94d321):null}function _0x3b35cf(_0x581365,_0x41232e){var _0x358a7e=_0xba4ffc,_0x56dbb8=_0x41232e?_0x41232e:_0x3a29e9[_0x358a7e(429)](_0x581365[_0x358a7e(271)],"");if(_0x4ef2e2[_0x358a7e(467)](_0x56dbb8))return _0x4ef2e2[_0x358a7e(206)](_0x56dbb8);var _0xf61486=new _0x564167(_0x581365);return _0x4ef2e2[_0x358a7e(230)](_0x56dbb8,_0xf61486),_0xf61486}var _0x4ef2e2=new Map;_0x5a425f[_0xba4ffc(279)]=_0xb5fce1,_0x5a425f["find"]=_0x51e4c1,_0x5a425f[_0xba4ffc(270)]=_0x3b35cf;var _0x564167=function(){var _0x3fa24f=_0xba4ffc;function _0x1c0769(_0x4082c4){var _0x5a876a=_0xfb52;this["_comps"]=new vitamin[_0x5a876a(205)],this[_0x5a876a(292)]=_0x4082c4,this["onCreate"]()}return Object[_0x3fa24f(374)](_0x1c0769[_0x3fa24f(390)],_0x3a29e9[_0x3fa24f(190)],{get:function(){var _0x3f46c6=_0x3fa24f;return this[_0x3f46c6(292)]},enumerable:!0,configurable:!0}),_0x1c0769[_0x3fa24f(390)][_0x3fa24f(381)]=function(){var _0x244a1c=_0x3fa24f;vitamin[_0x244a1c(414)][_0x244a1c(236)](this,this[_0x244a1c(361)])},_0x1c0769[_0x3fa24f(390)][_0x3fa24f(160)]=function(){var _0x1e51f7=_0x3fa24f;vitamin[_0x1e51f7(414)][_0x1e51f7(172)](this,this[_0x1e51f7(361)]),this[_0x1e51f7(176)][_0x1e51f7(208)](function(_0x34a646){var _0xca1a49=_0x1e51f7;vitamin[_0xca1a49(407)]["to"](_0x34a646,!0)}),this[_0x1e51f7(176)][_0x1e51f7(161)](),this[_0x1e51f7(292)]&&(this[_0x1e51f7(292)][_0x1e51f7(327)]&&this[_0x1e51f7(292)][_0x1e51f7(327)][_0x1e51f7(480)](this[_0x1e51f7(292)]),this[_0x1e51f7(292)]=null)},_0x1c0769[_0x3fa24f(390)][_0x3fa24f(361)]=function(){var _0x25955f=_0x3fa24f;for(var _0xda6d40=this[_0x25955f(176)][_0x25955f(346)],_0x4211ef=0;_0x3a29e9["MCSZb"](_0x4211ef,_0xda6d40[_0x25955f(451)]);_0x4211ef++)_0xda6d40[_0x4211ef][_0x25955f(375)]()},_0x1c0769[_0x3fa24f(390)]["add"]=function(){var _0x1b57d7=_0x3fa24f;for(var _0x221528=[],_0x4fbb77=0;_0x3a29e9[_0x1b57d7(217)](_0x4fbb77,arguments[_0x1b57d7(451)]);_0x4fbb77++)_0x221528[_0x4fbb77]=arguments[_0x4fbb77];for(var _0x592bf9=0,_0x43e098=_0x221528;_0x592bf9<_0x43e098[_0x1b57d7(451)];_0x592bf9++){var _0x52da4a=_0x43e098[_0x592bf9],_0x371c3e=egret[_0x1b57d7(237)](_0x52da4a);if(this[_0x1b57d7(176)]["has"](_0x371c3e))return void console[_0x1b57d7(425)](_0x3a29e9["wZWjV"],_0x371c3e);var _0x4a4f17=vitamin[_0x1b57d7(407)][_0x1b57d7(246)](_0x52da4a);_0x4a4f17["entity"]=this,_0x4a4f17[_0x1b57d7(294)](),_0x4a4f17[_0x1b57d7(450)](),this[_0x1b57d7(176)][_0x1b57d7(230)](_0x371c3e,_0x4a4f17)}return this},_0x1c0769["prototype"][_0x3fa24f(172)]=function(_0x40d78a){var _0x4e97f1=_0x3fa24f,_0x1caa75=egret["getQualifiedClassName"](_0x40d78a);if(!this[_0x4e97f1(176)][_0x4e97f1(467)](_0x1caa75))return void console[_0x4e97f1(425)](_0x3a29e9[_0x4e97f1(288)],_0x1caa75);var _0x338f58=this[_0x4e97f1(176)][_0x4e97f1(172)](_0x1caa75);vitamin[_0x4e97f1(407)]["to"](_0x338f58,!0),_0x338f58[_0x4e97f1(274)]=null},_0x1c0769[_0x3fa24f(390)][_0x3fa24f(178)]=function(_0x2cdc5e){var _0x41967a=_0x3fa24f,_0x1a7866=egret["getQualifiedClassName"](_0x2cdc5e);return this["_comps"][_0x41967a(206)](_0x1a7866)},_0x1c0769}();_0x5a425f[_0xba4ffc(389)]=_0x564167,_0x3a29e9[_0xba4ffc(198)](__reflect,_0x564167[_0xba4ffc(390)],"ecs.Entity");var _0x29abd3=function(){var _0x414625=_0xba4ffc;function _0x3fbb06(){}return Object[_0x414625(374)](_0x3fbb06[_0x414625(390)],_0x3a29e9[_0x414625(423)],{set:function(_0x5d0fae){var _0x43c821=_0x414625;_0x3a29e9["dEdWV"](this["_enabled"],_0x5d0fae)&&(this[_0x43c821(339)]=_0x5d0fae,this[_0x43c821(339)]?this[_0x43c821(282)]():this[_0x43c821(379)]())},enumerable:!0,configurable:!0}),_0x3fbb06[_0x414625(390)][_0x414625(294)]=function(){var _0x4e170b=_0x414625;this[_0x4e170b(453)]||(this[_0x4e170b(453)]=!0,this[_0x4e170b(381)]())},_0x3fbb06["prototype"][_0x414625(450)]=function(){var _0x56d94c=_0x414625;this[_0x56d94c(437)](),this[_0x56d94c(419)]=!0},_0x3fbb06[_0x414625(390)][_0x414625(155)]=function(){var _0x2e667e=_0x414625;this[_0x2e667e(419)]=!1,this[_0x2e667e(258)]()},_0x3fbb06[_0x414625(390)][_0x414625(381)]=function(){},_0x3fbb06[_0x414625(390)][_0x414625(437)]=function(){},_0x3fbb06[_0x414625(390)][_0x414625(375)]=function(){},_0x3fbb06[_0x414625(390)][_0x414625(282)]=function(){},_0x3fbb06[_0x414625(390)][_0x414625(379)]=function(){},_0x3fbb06["prototype"][_0x414625(258)]=function(){},_0x3fbb06}();_0x5a425f[_0xba4ffc(477)]=_0x29abd3,_0x3a29e9[_0xba4ffc(254)](__reflect,_0x29abd3[_0xba4ffc(390)],_0xba4ffc(257),[_0x3a29e9[_0xba4ffc(355)]])}(ecs||(ecs={}));var Main=function(_0xe5b394){var _0x5c6f0d=_0x551e5a,_0x128b41={wLfPm:_0x5c6f0d(187),CBNmE:_0x5c6f0d(340),wCadi:_0x5c6f0d(287),RxoGB:_0x5c6f0d(463),yJDTt:function(_0x3e2b90,_0x3e6a48,_0xa94640){return _0x3e2b90(_0x3e6a48,_0xa94640)}};function _0x39b546(){var _0x2f434c=_0x5c6f0d,_0x3a84d9=_0xe5b394["call"](this)||this;return egret[_0x2f434c(286)][_0x2f434c(396)](function(_0x25adaf){}),egret[_0x2f434c(286)][_0x2f434c(469)]=function(){var _0x28a30a=_0x2f434c;egret[_0x28a30a(414)][_0x28a30a(366)]()},egret["lifecycle"][_0x2f434c(291)]=function(){var _0x119a32=_0x2f434c;egret[_0x119a32(414)][_0x119a32(445)]()},_0x3a84d9[_0x2f434c(307)](),_0x3a84d9}return _0x128b41[_0x5c6f0d(321)](__extends,_0x39b546,_0xe5b394),_0x39b546[_0x5c6f0d(390)][_0x5c6f0d(307)]=function(){var _0xe0b7e1=_0x5c6f0d,_0xa26508={MxEmF:_0x128b41[_0xe0b7e1(157)],sOgYe:_0x128b41[_0xe0b7e1(186)],zkGCX:_0x128b41[_0xe0b7e1(199)],DyvUH:_0x128b41[_0xe0b7e1(393)],byoiw:_0xe0b7e1(481)};return __awaiter(this,void 0,void 0,function(){var _0x268a60=_0xe0b7e1,_0x40fcff={DPTJN:_0x268a60(331),dGgKy:_0xa26508[_0x268a60(368)],lZpxD:_0xa26508[_0x268a60(397)],HZAWG:_0xa26508[_0x268a60(438)],BwyBX:_0xa26508[_0x268a60(275)],vBOQj:_0xa26508["byoiw"]},_0x6346fa,_0x4b5bc0,_0x1ec449;return __generator(this,function(_0xc7b42a){var _0x4de75c=_0x268a60;switch(_0xc7b42a[_0x4de75c(413)]){case 0:return[4,RES["loadConfig"](_0x40fcff["DPTJN"],_0x4de75c(341))];case 1:return _0xc7b42a["sent"](),[4,RES["loadGroup"](_0x40fcff[_0x4de75c(244)],0)];case 2:return _0xc7b42a[_0x4de75c(300)](),vitamin[_0x4de75c(450)](this[_0x4de75c(449)],{appName:_0x4de75c(276),platform:platform["inst"]},{dragonbone:!0,key:!0}),_0x6346fa=new tiled[_0x4de75c(408)](2e3,2e3,_0x40fcff[_0x4de75c(184)]),[4,_0x6346fa[_0x4de75c(301)]()];case 3:return _0xc7b42a[_0x4de75c(300)](),_0x6346fa["initialize"](),_0x6346fa[_0x4de75c(418)](),[4,_0x6346fa[_0x4de75c(170)]()];case 4:return _0xc7b42a[_0x4de75c(300)](),egret[_0x4de75c(286)][_0x4de75c(449)][_0x4de75c(482)](_0x6346fa),ecs[_0x4de75c(270)](_0x6346fa,_0x40fcff[_0x4de75c(221)])[_0x4de75c(194)](MapBitmapComp,MapGridComp),_0x4b5bc0=_0x6346fa[_0x4de75c(384)](_0x4de75c(192)),_0x1ec449=new Actor,[4,_0x1ec449[_0x4de75c(195)]()];case 5:return _0xc7b42a[_0x4de75c(300)](),_0x4b5bc0[_0x4de75c(482)](_0x1ec449),_0x1ec449[_0x4de75c(313)]=_0x40fcff["BwyBX"],_0x1ec449[_0x4de75c(299)](5,5),ecs[_0x4de75c(270)](_0x1ec449,_0x40fcff[_0x4de75c(462)])[_0x4de75c(194)](TapControlComp),[2]}})})},_0x39b546}(egret[_0x551e5a(316)]);__reflect(Main[_0x551e5a(390)],_0x551e5a(180));var Actor=function(_0x5c95da){var _0xab5eae=_0x551e5a,_0x2b4bc1={yTZpD:"idel",ZWqoX:_0xab5eae(212),baqBX:function(_0x55d629,_0x23d67d){return _0x55d629>_0x23d67d},zUmDS:function(_0x2d0bb6,_0x447677){return _0x2d0bb6+_0x447677},PpZaB:_0xab5eae(347),dXXVc:function(_0x58aeb4,_0x1d3f13){return _0x58aeb4*_0x1d3f13},oJYpD:function(_0x5d6c5f,_0x5e6e42){return _0x5d6c5f(_0x5e6e42)},NwsVs:function(_0x5319d7,_0x290b82){return _0x5319d7+_0x290b82},RxcAZ:function(_0x371721,_0x33d23f){return _0x371721*_0x33d23f},WqOSl:function(_0x2a420e,_0x331262){return _0x2a420e+_0x331262},DBmVG:function(_0x1c1aca,_0x13382c){return _0x1c1aca*_0x13382c},LkiGU:function(_0xe9c437,_0x28c1aa){return _0xe9c437!=_0x28c1aa},yUjxn:function(_0x118440,_0x1bdd09,_0x13468b){return _0x118440(_0x1bdd09,_0x13468b)},arqdA:_0xab5eae(313)};function _0x51c312(){var _0x28622e=_0xab5eae,_0xc85fae=_0x5c95da["call"](this)||this;return _0xc85fae[_0x28622e(229)]={x:0,y:0},_0xc85fae}return _0x2b4bc1[_0xab5eae(218)](__extends,_0x51c312,_0x5c95da),_0x51c312["prototype"][_0xab5eae(195)]=function(){var _0x2300db=_0xab5eae,_0xd8ff8b={dXpVv:_0x2b4bc1["yTZpD"],hHgJJ:_0x2b4bc1[_0x2300db(424)],UvrWp:function(_0x188103,_0x3e6314){return _0x2b4bc1["baqBX"](_0x188103,_0x3e6314)},DyEPg:function(_0x1c988e,_0x3d3e92){return _0x2b4bc1["zUmDS"](_0x1c988e,_0x3d3e92)},ojhyY:_0x2b4bc1[_0x2300db(460)],RECTi:function(_0x52de4a,_0x4c3dc0){var _0x556359=_0x2300db;return _0x2b4bc1[_0x556359(255)](_0x52de4a,_0x4c3dc0)},sOFut:function(_0x47ea50,_0x17a412){var _0x56335c=_0x2300db;return _0x2b4bc1[_0x56335c(281)](_0x47ea50,_0x17a412)}},_0x9e9e76=this;return new Promise(function(_0x5aac44){var _0x54be86=_0x2300db;RES[_0x54be86(175)](_0x54be86(210),function(_0x48c854){var _0x4288c1=_0x54be86;_0x9e9e76[_0x4288c1(356)]=new Map;var _0x5104f5=new vitamin["SpriteSheet"](_0x48c854);_0x9e9e76[_0x4288c1(356)][_0x4288c1(230)](_0xd8ff8b[_0x4288c1(308)],[]),_0x9e9e76[_0x4288c1(356)][_0x4288c1(230)](_0xd8ff8b[_0x4288c1(177)],[]);for(var _0x2558a5=0;_0xd8ff8b[_0x4288c1(447)](4,_0x2558a5);_0x2558a5++)_0x9e9e76[_0x4288c1(356)]["get"](_0xd8ff8b[_0x4288c1(308)])[_0x4288c1(342)](_0x5104f5[_0x4288c1(189)](_0xd8ff8b[_0x4288c1(322)](_0xd8ff8b[_0x4288c1(239)],_0x2558a5),_0xd8ff8b[_0x4288c1(152)](24,_0x2558a5),0,24,24)),_0x9e9e76[_0x4288c1(356)][_0x4288c1(206)](_0x4288c1(212))[_0x4288c1(342)](_0x5104f5["createTexture"](_0xd8ff8b[_0x4288c1(322)](_0xd8ff8b[_0x4288c1(177)],_0x2558a5),_0xd8ff8b[_0x4288c1(152)](24,_0x2558a5),48,24,24));_0x9e9e76[_0x4288c1(250)](12,24),_0xd8ff8b["sOFut"](_0x5aac44,null)})})},_0x51c312[_0xab5eae(390)][_0xab5eae(299)]=function(_0x2b1094,_0x525a45){var _0x26c426=_0xab5eae;this[_0x26c426(229)]["x"]=_0x2b1094,this["_tile"]["y"]=_0x525a45,this["x"]=_0x2b4bc1[_0x26c426(256)](_0x2b4bc1[_0x26c426(255)](16,_0x2b1094),8),this["y"]=_0x2b4bc1[_0x26c426(256)](_0x2b4bc1[_0x26c426(252)](16,_0x525a45),8)},_0x51c312["prototype"][_0xab5eae(324)]=function(_0x5e01cc,_0x55717a){var _0x592405=_0xab5eae,_0x37c2d9={NbNUj:_0x2b4bc1[_0x592405(200)]},_0x18a2a2=this,_0x4ef05b=_0x2b4bc1[_0x592405(264)](_0x2b4bc1[_0x592405(255)](16,_0x5e01cc),8),_0xd7ef5b=_0x2b4bc1["WqOSl"](_0x2b4bc1[_0x592405(354)](16,_0x55717a),8);this[_0x592405(313)]=_0x592405(212),egret[_0x592405(328)][_0x592405(302)](this),egret[_0x592405(328)][_0x592405(206)](this)["to"]({x:_0x4ef05b,y:_0xd7ef5b},300)["call"](function(){var _0x1d841b=_0x592405;_0x18a2a2[_0x1d841b(313)]=_0x37c2d9[_0x1d841b(377)],_0x18a2a2[_0x1d841b(229)]["x"]=_0x5e01cc,_0x18a2a2[_0x1d841b(229)]["y"]=_0x55717a})},Object["defineProperty"](_0x51c312[_0xab5eae(390)],"tile",{get:function(){var _0x410d1b=_0xab5eae;return this[_0x410d1b(229)]},enumerable:!0,configurable:!0}),Object[_0xab5eae(374)](_0x51c312[_0xab5eae(390)],_0x2b4bc1[_0xab5eae(214)],{set:function(_0x453404){var _0x1cea07=_0xab5eae;if(_0x2b4bc1[_0x1cea07(220)](this[_0x1cea07(174)],_0x453404)){this[_0x1cea07(174)]=_0x453404;var _0x469a8a=this[_0x1cea07(356)][_0x1cea07(206)](this[_0x1cea07(174)]);_0x469a8a&&(this["initialize"](_0x469a8a),this[_0x1cea07(303)](12)[_0x1cea07(417)]())}},enumerable:!0,configurable:!0}),_0x51c312}(vitamin[_0x551e5a(348)]);__reflect(Actor[_0x551e5a(390)],_0x551e5a(481));var KeyControlComp=function(_0xfa8642){var _0xedfef2=_0x551e5a,_0x1e5d7b={JvRuN:function(_0x498a7b,_0x25a44e){return _0x498a7b!==_0x25a44e},rnMbX:_0xedfef2(287),jkQhg:function(_0x1b4fa5,_0x16b05d){return _0x1b4fa5-_0x16b05d},VJFhH:function(_0x793b34,_0x7edc82){return _0x793b34/_0x7edc82},pyWPx:function(_0x5e1638,_0x361d27){return _0x5e1638/_0x361d27},pwDSS:function(_0x524c63,_0x550743){return _0x524c63+_0x550743},VHTLF:function(_0x5e6706,_0x1466d4){return _0x5e6706/_0x1466d4},myFEs:function(_0x54a8e3,_0x59a438){return _0x54a8e3/_0x59a438},eHAGX:function(_0x3299ee,_0x1566d9){return _0x3299ee+_0x1566d9},FljbO:function(_0x5c594a,_0x779b15,_0xc46045){return _0x5c594a(_0x779b15,_0xc46045)}};function _0x4daca8(){var _0x35d7bd=_0xedfef2,_0x3d7069=_0x1e5d7b["JvRuN"](null,_0xfa8642)&&_0xfa8642[_0x35d7bd(416)](this,arguments)||this;return _0x3d7069[_0x35d7bd(351)]=2,_0x3d7069}return _0x1e5d7b[_0xedfef2(162)](__extends,_0x4daca8,_0xfa8642),_0x4daca8[_0xedfef2(390)][_0xedfef2(282)]=function(){var _0x9dfbfb=_0xedfef2;vitamin[_0x9dfbfb(325)][_0x9dfbfb(419)]=!0},_0x4daca8["prototype"]["onDisable"]=function(){var _0x12625d=_0xedfef2;vitamin["key"][_0x12625d(419)]=!1},_0x4daca8[_0xedfef2(390)][_0xedfef2(375)]=function(){var _0x44b737=_0xedfef2,_0x1ac7f1,_0x3b434c,_0x555a4f=this[_0x44b737(351)],_0x1abddf=this[_0x44b737(274)]["raw"],_0x177ef7=ecs[_0x44b737(178)](_0x1e5d7b[_0x44b737(372)])[_0x44b737(178)](MapGridComp);vitamin[_0x44b737(325)][_0x44b737(260)](vitamin[_0x44b737(475)]["UP"])?(_0x1ac7f1=Math[_0x44b737(290)](_0x1abddf["x"]/16),_0x3b434c=Math[_0x44b737(290)](_0x1e5d7b[_0x44b737(388)](_0x1abddf["y"],_0x555a4f)/16),_0x177ef7[_0x44b737(350)](_0x1ac7f1,_0x3b434c)&&(_0x1abddf["y"]-=_0x555a4f)):vitamin[_0x44b737(325)]["isDown"](vitamin["Keyboard"]["DOWN"])?(_0x1ac7f1=Math[_0x44b737(290)](_0x1e5d7b[_0x44b737(369)](_0x1abddf["x"],16)),_0x3b434c=Math[_0x44b737(290)](_0x1e5d7b[_0x44b737(461)](_0x1e5d7b[_0x44b737(247)](_0x1abddf["y"],_0x555a4f),16)),_0x177ef7[_0x44b737(350)](_0x1ac7f1,_0x3b434c)&&(_0x1abddf["y"]+=_0x555a4f)):vitamin[_0x44b737(325)]["isDown"](vitamin[_0x44b737(475)]["LEFT"])?(_0x1ac7f1=Math[_0x44b737(290)](_0x1e5d7b["VHTLF"](_0x1e5d7b[_0x44b737(388)](_0x1abddf["x"],_0x555a4f),16)),_0x3b434c=Math[_0x44b737(290)](_0x1e5d7b[_0x44b737(394)](_0x1abddf["y"],16)),_0x177ef7[_0x44b737(350)](_0x1ac7f1,_0x3b434c)&&(_0x1abddf["x"]-=_0x555a4f,_0x1abddf["scaleX"]=-1)):vitamin[_0x44b737(325)][_0x44b737(260)](vitamin[_0x44b737(475)][_0x44b737(428)])&&(_0x1ac7f1=Math[_0x44b737(290)](_0x1e5d7b[_0x44b737(353)](_0x1abddf["x"],_0x555a4f)/16),_0x3b434c=Math[_0x44b737(290)](_0x1e5d7b[_0x44b737(394)](_0x1abddf["y"],16)),_0x177ef7[_0x44b737(350)](_0x1ac7f1,_0x3b434c)&&(_0x1abddf["x"]+=_0x555a4f,_0x1abddf[_0x44b737(435)]=1)),ecs[_0x44b737(178)](_0x1e5d7b[_0x44b737(372)])[_0x44b737(178)](MapBitmapComp)[_0x44b737(415)][_0x44b737(454)](_0x1abddf["x"],_0x1abddf["y"])},_0x4daca8}(ecs["Component"]);__reflect(KeyControlComp[_0x551e5a(390)],_0x551e5a(265));var MapBitmapComp=function(_0xa74eed){var _0x42e472=_0x551e5a,_0x55428b={WYdEQ:_0x42e472(219),eoyUk:_0x42e472(213),nXdtF:_0x42e472(238),tQMAR:function(_0x10a62f,_0x370f1b){return _0x10a62f*_0x370f1b},GczWC:function(_0x1e3e5b,_0x382d31){return _0x1e3e5b/_0x382d31},UOHBX:function(_0x28732f,_0x127066){return _0x28732f-_0x127066},nfKxV:function(_0x40f086,_0x380fd0){return _0x40f086/_0x380fd0},mHnOg:_0x42e472(241),HQDvN:function(_0x1d9eb5,_0x471073){return _0x1d9eb5*_0x471073},tndEJ:function(_0x337d37,_0x4d1288){return _0x337d37-_0x4d1288},gvoEM:function(_0x2beffe,_0x46d1ae){return _0x2beffe*_0x46d1ae},VfwXX:function(_0x587cde,_0x3912d1){return _0x587cde/_0x3912d1},CkeyA:function(_0x54f03a,_0x49bf28){return _0x54f03a-_0x49bf28},hqCyA:function(_0x289784,_0x20d26a){return _0x289784/_0x20d26a},mAhFP:function(_0x1cc64c,_0x485da6){return _0x1cc64c+_0x485da6},HJLLJ:function(_0x4edb69,_0x1bffe0){return _0x4edb69*_0x1bffe0},fXoVa:function(_0x2c7987,_0x1ea7d0){return _0x2c7987/_0x1ea7d0},qfvty:"u_time",kzEda:function(_0x6666b7,_0x168b4d,_0x481648){return _0x6666b7(_0x168b4d,_0x481648)}};function _0x137492(){var _0x458721=_0x42e472,_0x23be20=null!==_0xa74eed&&_0xa74eed[_0x458721(416)](this,arguments)||this;return _0x23be20[_0x458721(363)]=5,_0x23be20}return _0x55428b[_0x42e472(371)](__extends,_0x137492,_0xa74eed),_0x137492["prototype"]["onCreate"]=function(){var _0x33dd77=_0x42e472,_0x4bbc39=_0x55428b["WYdEQ"]["split"]("|"),_0x22c109=0;while(!![]){switch(_0x4bbc39[_0x22c109++]){case"0":var _0x33d8a7=_0xf4aa65[_0x33dd77(384)](_0x55428b["eoyUk"]),_0x51626c=_0xf4aa65[_0x33dd77(384)](_0x55428b[_0x33dd77(399)]);continue;case"1":var _0xf4aa65=this[_0x33dd77(274)][_0x33dd77(309)],_0xc66626=_0xf4aa65[_0x33dd77(327)]?_0xf4aa65["parent"]:egret[_0x33dd77(286)][_0x33dd77(449)];continue;case"2":_0x51626c["mergeStaticAsBitmap"](),_0x33d8a7["mergeStaticAsBitmap"]();continue;case"3":_0xf4aa65["parent"]&&_0xf4aa65[_0x33dd77(327)][_0x33dd77(480)](_0xf4aa65);continue;case"4":_0x574712[_0x33dd77(435)]=_0x574712["scaleY"]=this["scale"],_0xc66626[_0x33dd77(482)](_0x574712),_0x574712[_0x33dd77(266)](50,50,50,16777215),_0x574712[_0x33dd77(266)](50,50,150,10092441),_0x574712[_0x33dd77(266)](50,350,150,16751001),_0x574712["addLight"](450,50,150,10066431),_0x574712[_0x33dd77(266)](450,350,150,16777113),_0x574712[_0x33dd77(476)]=!0;continue;case"5":_0xf4aa65[_0x33dd77(384)]("Objects");continue;case"6":var _0x574712=this[_0x33dd77(312)]=new MapBitmap(_0xf4aa65);continue;case"7":this[_0x33dd77(415)]=new egret[_0x33dd77(401)];continue}break}},_0x137492[_0x42e472(390)][_0x42e472(437)]=function(){var _0x263c2a=_0x42e472;this[_0x263c2a(312)][_0x263c2a(470)](egret["TouchEvent"][_0x263c2a(310)],this[_0x263c2a(215)],this),shader[_0x263c2a(474)]=!0},_0x137492[_0x42e472(390)]["onDestory"]=function(){var _0x1ac853=_0x42e472;this[_0x1ac853(312)][_0x1ac853(464)](egret[_0x1ac853(202)]["TOUCH_TAP"],this[_0x1ac853(215)],this)},_0x137492[_0x42e472(390)][_0x42e472(215)]=function(_0x114706){var _0x5bef67=_0x42e472,_0x4b8482=this["entity"]["raw"];if(_0x4b8482){var _0x2853e1=_0x55428b[_0x5bef67(235)](16,this["_bitmap"][_0x5bef67(435)]),_0x15f251=Math[_0x5bef67(290)](_0x55428b[_0x5bef67(171)](_0x55428b[_0x5bef67(329)](_0x114706[_0x5bef67(442)],this[_0x5bef67(312)]["x"]),_0x2853e1)),_0x2be93e=Math[_0x5bef67(290)](_0x55428b[_0x5bef67(201)](_0x114706[_0x5bef67(263)]-this[_0x5bef67(312)]["y"],_0x2853e1));_0x4b8482[_0x5bef67(382)](_0x114706[_0x5bef67(231)],!1,{x:_0x15f251,y:_0x2be93e})}},_0x137492["prototype"][_0x42e472(375)]=function(){var _0x591916=_0x42e472,_0x56ebda=_0x55428b[_0x591916(284)][_0x591916(478)]("|"),_0x2cdd76=0;while(!![]){switch(_0x56ebda[_0x2cdd76++]){case"0":var _0x32b525=_0x55428b[_0x591916(427)](_0x5059c5[_0x591916(222)],_0x5059c5[_0x591916(435)]),_0x2c89fb=_0x55428b[_0x591916(427)](_0x5059c5[_0x591916(243)],_0x5059c5[_0x591916(432)]);continue;case"1":var _0x5059c5=this["_bitmap"];continue;case"2":_0x5059c5["x"]=_0x55428b["tndEJ"](vitamin["stage"][_0x591916(222)]/2,_0x55428b[_0x591916(473)](_0x55428b["VfwXX"](_0x5aaf7c["x"],_0x5059c5["width"]),_0x32b525)),_0x5059c5["y"]=_0x55428b[_0x591916(352)](_0x55428b["hqCyA"](vitamin[_0x591916(449)][_0x591916(243)],2),_0x55428b["VfwXX"](_0x5aaf7c["y"],_0x5059c5["height"])*_0x2c89fb);continue;case"3":var _0x5aaf7c=this["cameraPosition"];continue;case"4":_0x5059c5["setLight"](0,_0x5aaf7c["x"],_0x5aaf7c["y"],_0x55428b[_0x591916(345)](_0x55428b[_0x591916(317)](50,Math[_0x591916(466)](Math[_0x591916(392)](_0x55428b["fXoVa"](vitamin[_0x591916(414)]["curFrame"],50)))),50));continue;case"5":_0x5059c5[_0x591916(439)][_0x591916(323)](_0x55428b["qfvty"],_0x55428b[_0x591916(345)](_0x5059c5[_0x591916(439)][_0x591916(334)](_0x591916(298)),1)),_0x5059c5[_0x591916(439)]["setUniform"]("u_sun",Math[_0x591916(330)](1,Math[_0x591916(471)](0,_0x55428b[_0x591916(185)](1,Math[_0x591916(466)](Math["sin"](_0x55428b["GczWC"](vitamin[_0x591916(414)]["curFrame"],100)))))));continue}break}},_0x137492}(ecs[_0x551e5a(477)]);__reflect(MapBitmapComp[_0x551e5a(390)],"MapBitmapComp");var MapBitmap=function(_0x5accfb){var _0x21bcdc=_0x551e5a,_0x427017={fAscu:function(_0x3d488d,_0x4e3793){return _0x3d488d!=_0x4e3793},VlRmY:function(_0x59105e,_0x2923f0){return _0x59105e+_0x2923f0},PxJyT:_0x21bcdc(420),yBcLY:function(_0x53810b,_0x161134){return _0x53810b/_0x161134},lsDzA:function(_0x112d3c,_0x348ea5){return _0x112d3c+_0x348ea5},STscs:function(_0x28fc54,_0x188aba){return _0x28fc54/_0x188aba},xgXYX:_0x21bcdc(349),UGxhw:function(_0x3b1af6,_0x10a50e){return _0x3b1af6/_0x10a50e},pSqdS:function(_0x139419,_0x3e796d){return _0x139419<_0x3e796d},KsaHH:function(_0xc6ea4d,_0x5a93de){return _0xc6ea4d+_0x5a93de},lXlmx:_0x21bcdc(226),qslqJ:function(_0x146bc0,_0xed7d7e){return _0x146bc0/_0xed7d7e},BRMXw:_0x21bcdc(436),olZZw:function(_0x1ac6ed,_0x451eca){return _0x1ac6ed+_0x451eca},wEWgZ:_0x21bcdc(296),oLnai:function(_0x1dc10a,_0x1febcb){return _0x1dc10a+_0x1febcb},owHnZ:_0x21bcdc(203),PCNXU:function(_0x5d15cd,_0x31a9c0){return _0x5d15cd+_0x31a9c0},nXLeN:function(_0x1c51da,_0x1d261a){return _0x1c51da+_0x1d261a},hocBx:function(_0x127a38,_0x38d8e7){return _0x127a38+_0x38d8e7},RBoqS:function(_0x5781bb,_0x4abc32){return _0x5781bb+_0x4abc32},dQGjx:function(_0x3dffa0,_0x18a333){return _0x3dffa0+_0x18a333},eUDCv:_0x21bcdc(262),PNFMu:", lightColor",Ygwam:_0x21bcdc(434),TJyAP:_0x21bcdc(196),OKunc:"shader"};function _0x27ba45(_0x1b96c2){var _0x3db63d=_0x21bcdc,_0x2d5087=_0x5accfb[_0x3db63d(479)](this)||this;return _0x2d5087[_0x3db63d(193)]=!1,_0x2d5087[_0x3db63d(383)](_0x1b96c2),_0x2d5087[_0x3db63d(232)]=new shader[_0x3db63d(245)]("resource/filters/Tiled.frag",{uniforms:{u_time:0,u_sun:.1}}),_0x2d5087[_0x3db63d(232)][_0x3db63d(455)](_0x2d5087),_0x2d5087[_0x3db63d(232)][_0x3db63d(386)](_0x2d5087,function(){var _0x58d812=_0x3db63d;_0x2d5087[_0x58d812(167)]=_0x2d5087[_0x58d812(232)][_0x58d812(240)],vitamin[_0x58d812(337)](_0x2d5087,_0x2d5087[_0x58d812(154)])}),_0x2d5087[_0x3db63d(227)]=[],_0x2d5087}return __extends(_0x27ba45,_0x5accfb),Object[_0x21bcdc(374)](_0x27ba45[_0x21bcdc(390)],_0x427017[_0x21bcdc(410)],{get:function(){return this["_shader"]},enumerable:!0,configurable:!0}),_0x27ba45[_0x21bcdc(390)][_0x21bcdc(266)]=function(_0x37c92a,_0x5938b6,_0x1d460f,_0x122b6b){var _0x1731c3=_0x21bcdc;this["_lights"]["push"]({x:_0x37c92a,y:_0x5938b6,radius:_0x1d460f,color:_0x122b6b}),vitamin[_0x1731c3(337)](this,this["updateShader"])},_0x27ba45["prototype"]["setLight"]=function(_0x4baa3f,_0xca3c67,_0x2e33f3,_0x2b490c,_0x30110c){var _0x164bd7=_0x21bcdc;if(_0x427017["fAscu"](void 0,_0xca3c67)&&this[_0x164bd7(232)]["setUniform"](_0x427017[_0x164bd7(456)](_0x427017[_0x164bd7(456)](_0x427017[_0x164bd7(273)],_0x4baa3f),".x"),_0x427017[_0x164bd7(458)](_0xca3c67,this["width"])),_0x427017[_0x164bd7(338)](void 0,_0x2e33f3)&&this[_0x164bd7(232)][_0x164bd7(323)](_0x427017["lsDzA"](_0x164bd7(420),_0x4baa3f)+".y",_0x2e33f3/this[_0x164bd7(243)]),_0x427017[_0x164bd7(338)](void 0,_0x2b490c)&&this[_0x164bd7(232)][_0x164bd7(323)](_0x427017[_0x164bd7(364)](_0x164bd7(226),_0x4baa3f),_0x427017[_0x164bd7(458)](_0x2b490c,this[_0x164bd7(222)])),void 0!=_0x30110c){var _0x446f7b=vitamin["ColorUtil"][_0x164bd7(278)](_0x30110c),_0x1dbff0=_0x446f7b[0],_0x17d7b7=_0x446f7b[1],_0x23c60a=_0x446f7b[2];this["_shader"][_0x164bd7(323)](_0x164bd7(349)+_0x4baa3f+".x",_0x427017[_0x164bd7(458)](_0x1dbff0,255)),this[_0x164bd7(232)][_0x164bd7(323)](_0x427017["lsDzA"](_0x427017[_0x164bd7(364)](_0x164bd7(349),_0x4baa3f),".y"),_0x427017["STscs"](_0x17d7b7,255)),this[_0x164bd7(232)][_0x164bd7(323)](_0x427017["VlRmY"](_0x427017[_0x164bd7(289)]+_0x4baa3f,".z"),_0x427017["UGxhw"](_0x23c60a,255))}},_0x27ba45[_0x21bcdc(390)]["updateShader"]=function(){var _0x49f899=_0x21bcdc;if(this[_0x49f899(227)][_0x49f899(451)]&&this[_0x49f899(167)]){for(var _0x29d0cf=[],_0x147ecc=[],_0x4bb867=[],_0xc221e9={},_0x2ce0b9=0;_0x427017[_0x49f899(378)](_0x2ce0b9,this["_lights"][_0x49f899(451)]);_0x2ce0b9++){var _0x5af4e7=this[_0x49f899(227)][_0x2ce0b9],_0x2b8695=vitamin[_0x49f899(400)][_0x49f899(278)](_0x5af4e7["color"]),_0x1c729c=_0x2b8695[0],_0x84f0d3=_0x2b8695[1],_0x89a9fb=_0x2b8695[2];_0xc221e9[_0x427017[_0x49f899(273)]+_0x2ce0b9]={x:_0x5af4e7["x"]/this[_0x49f899(209)][_0x49f899(222)],y:_0x5af4e7["y"]/this[_0x49f899(209)][_0x49f899(243)]},_0xc221e9[_0x427017[_0x49f899(430)](_0x427017["lXlmx"],_0x2ce0b9)]=_0x5af4e7["radius"]/this[_0x49f899(209)][_0x49f899(222)],_0xc221e9[_0x427017[_0x49f899(289)]+_0x2ce0b9]={x:_0x1c729c/255,y:_0x84f0d3/255,z:_0x427017["qslqJ"](_0x89a9fb,255),w:1},_0x4bb867[_0x49f899(342)](_0x427017[_0x49f899(364)](_0x427017[_0x49f899(430)](_0x427017[_0x49f899(380)],_0x2ce0b9),";")),_0x4bb867[_0x49f899(342)](_0x427017[_0x49f899(391)](_0x427017[_0x49f899(456)](_0x427017[_0x49f899(228)],_0x2ce0b9),";")),_0x4bb867[_0x49f899(342)](_0x49f899(169)+_0x2ce0b9+";"),_0x147ecc[_0x49f899(342)](_0x427017["oLnai"](_0x427017[_0x49f899(253)],_0x2ce0b9)),_0x29d0cf[_0x49f899(342)](_0x427017[_0x49f899(391)](_0x427017[_0x49f899(188)](_0x427017[_0x49f899(207)](_0x427017[_0x49f899(153)](_0x427017[_0x49f899(364)](_0x427017[_0x49f899(431)](_0x427017[_0x49f899(431)](_0x427017[_0x49f899(459)](_0x427017[_0x49f899(188)](_0x49f899(277),_0x2ce0b9)+_0x49f899(440),_0x2ce0b9),_0x49f899(452)),_0x2ce0b9),_0x427017[_0x49f899(336)]),_0x2ce0b9),_0x427017[_0x49f899(173)]),_0x2ce0b9),_0x49f899(333)))}var _0x41277e=this[_0x49f899(167)][_0x49f899(248)](_0x49f899(156),_0x4bb867[_0x49f899(326)]("\n"))[_0x49f899(248)](_0x427017[_0x49f899(343)],_0x427017[_0x49f899(456)](_0x29d0cf["join"]("\n"),_0x427017[_0x49f899(376)])+_0x147ecc["join"]("+")+";");this[_0x49f899(232)][_0x49f899(191)](this[_0x49f899(232)]["$shaderKey"],{fragmentSrc:_0x41277e,uniforms:_0xc221e9})}},_0x27ba45}(vitamin["RenderBitmap"]);__reflect(MapBitmap[_0x551e5a(390)],_0x551e5a(314));var MapGridComp=function(_0x622814){var _0x59c4e3=_0x551e5a,_0xc3bb4f={LUdMo:function(_0x2cea85,_0x48a4ce){return _0x2cea85!==_0x48a4ce},QoXZv:"Floor",jSqHj:_0x59c4e3(192),MXTOf:function(_0xf5757e,_0x586f46){return _0xf5757e<_0x586f46},oeHUM:function(_0x55cf46,_0x37baeb){return _0x55cf46<_0x37baeb},GUPbz:function(_0x1df184,_0x19b558){return _0x1df184<_0x19b558},yFJGk:function(_0x4b3781,_0xc5374,_0x558155){return _0x4b3781(_0xc5374,_0x558155)}};function _0xcac04(){var _0x59e23d=_0x59c4e3;return _0xc3bb4f[_0x59e23d(234)](null,_0x622814)&&_0x622814[_0x59e23d(416)](this,arguments)||this}return _0xc3bb4f[_0x59c4e3(272)](__extends,_0xcac04,_0x622814),_0xcac04[_0x59c4e3(390)]["onCreate"]=function(){var _0x47ac18=_0x59c4e3,_0x8f782c=this[_0x47ac18(274)][_0x47ac18(309)];this[_0x47ac18(448)]=new PF["Grid"](_0x8f782c["rows"],_0x8f782c["cols"]),this[_0x47ac18(406)]=new PF[_0x47ac18(159)]({allowDiagonal:!1,diagonalMovement:PF[_0x47ac18(483)]["Never"]});for(var _0x16d861=_0x8f782c[_0x47ac18(384)](_0xc3bb4f[_0x47ac18(365)]),_0x208829=_0x8f782c["getLayerByName"](_0xc3bb4f["jSqHj"]),_0x51c574=0;_0x51c574<_0x8f782c[_0x47ac18(412)];_0x51c574++)for(var _0x2cc021=0;_0xc3bb4f[_0x47ac18(360)](_0x2cc021,_0x8f782c[_0x47ac18(315)]);_0x2cc021++)this[_0x47ac18(448)][_0x47ac18(444)](_0x51c574,_0x2cc021,!!_0x16d861[_0x47ac18(387)][_0x51c574][_0x2cc021]&&!_0x208829["layerData"][_0x51c574][_0x2cc021])},_0xcac04[_0x59c4e3(390)]["findPath"]=function(_0x585594,_0x44ba25,_0x1c5423,_0x52e525){var _0x5e1d99=_0x59c4e3;return this[_0x5e1d99(448)][_0x5e1d99(280)](),this[_0x5e1d99(406)][_0x5e1d99(319)](_0x585594,_0x44ba25,_0x1c5423,_0x52e525,this[_0x5e1d99(448)])},_0xcac04[_0x59c4e3(390)][_0x59c4e3(350)]=function(_0x382e9c,_0x393386){var _0x7bbeb=_0x59c4e3,_0x17da3f=this["entity"]["raw"];if(!_0x17da3f)return!1;var _0x104dc1=_0x17da3f[_0x7bbeb(384)](_0xc3bb4f[_0x7bbeb(365)]),_0x559ef1=_0x17da3f[_0x7bbeb(384)](_0xc3bb4f[_0x7bbeb(283)]);return _0xc3bb4f["oeHUM"](_0x382e9c,_0x104dc1[_0x7bbeb(387)]["length"])&&_0xc3bb4f[_0x7bbeb(373)](_0x393386,_0x104dc1["layerData"][_0x382e9c][_0x7bbeb(451)])?!!_0x104dc1[_0x7bbeb(387)][_0x382e9c][_0x393386]&&!_0x559ef1[_0x7bbeb(387)][_0x382e9c][_0x393386]:!1},_0xcac04}(ecs[_0x551e5a(477)]);__reflect(MapGridComp[_0x551e5a(390)],_0x551e5a(318));var TapControlComp=function(_0x5c8927){var _0x4dfca3=_0x551e5a,_0x2ae7e2={MUuwr:function(_0x8d34d3,_0x4cd279){return _0x8d34d3!==_0x4cd279},LgEgB:_0x4dfca3(287),zvwWq:function(_0x4af29f,_0x8ebee7){return _0x4af29f/_0x8ebee7},DJoys:function(_0xf99e02,_0x51e003){return _0xf99e02/_0x51e003},ogWVm:_0x4dfca3(225),XzGyD:function(_0x2c3e7c,_0x34bda8){return _0x2c3e7c+_0x34bda8},LTCyg:function(_0x367499,_0x5121cc){return _0x367499+_0x5121cc},pOgeM:_0x4dfca3(463),NvnAE:function(_0x36dbce,_0x705fe9){return _0x36dbce!=_0x705fe9},IStSc:function(_0x171060,_0x1f7b8e){return _0x171060-_0x1f7b8e},bAVuL:function(_0x410e10,_0x115d60){return _0x410e10<_0x115d60},OTAzv:function(_0x1568b6,_0xdd974c){return _0x1568b6-_0xdd974c},vDfGT:function(_0xf1dc1f,_0x6d1e35){return _0xf1dc1f*_0x6d1e35},pNBAz:function(_0x58b4a8,_0x2e10dd){return _0x58b4a8!=_0x2e10dd},RZJRz:function(_0x1eafd5,_0x2dda3b){return _0x1eafd5>=_0x2dda3b},BEXkB:function(_0xfeb671,_0x46622a){return _0xfeb671==_0x46622a},cWHRm:function(_0x60b476,_0x55ffc6,_0x374fcd){return _0x60b476(_0x55ffc6,_0x374fcd)}};function _0x4e1e1d(){var _0x4a5d60=_0x4dfca3,_0x4dac1e=_0x2ae7e2[_0x4a5d60(446)](null,_0x5c8927)&&_0x5c8927[_0x4a5d60(416)](this,arguments)||this;return _0x4dac1e[_0x4a5d60(351)]=2,_0x4dac1e}return _0x2ae7e2[_0x4dfca3(385)](__extends,_0x4e1e1d,_0x5c8927),_0x4e1e1d[_0x4dfca3(390)][_0x4dfca3(437)]=function(){var _0x22073e=_0x4dfca3,_0x30ec3e=this[_0x22073e(274)][_0x22073e(309)];ecs["find"](_0x22073e(287))[_0x22073e(178)](MapBitmapComp)["cameraPosition"]["setTo"](_0x30ec3e["x"],_0x30ec3e["y"]),this[_0x22073e(358)]=_0x30ec3e["x"]},_0x4e1e1d[_0x4dfca3(390)][_0x4dfca3(282)]=function(){var _0x3bd774=_0x4dfca3,_0x20d869=ecs[_0x3bd774(178)]("Map");_0x20d869&&_0x20d869["raw"]&&_0x20d869[_0x3bd774(309)][_0x3bd774(470)](egret[_0x3bd774(202)][_0x3bd774(310)],this[_0x3bd774(215)],this)},_0x4e1e1d[_0x4dfca3(390)]["onDisable"]=function(){var _0x4c31f4=_0x4dfca3,_0x166fa9=ecs["find"](_0x2ae7e2[_0x4c31f4(485)]);_0x166fa9&&_0x166fa9[_0x4c31f4(309)]&&_0x166fa9[_0x4c31f4(309)][_0x4c31f4(464)](egret[_0x4c31f4(202)][_0x4c31f4(310)],this[_0x4c31f4(215)],this)},_0x4e1e1d[_0x4dfca3(390)][_0x4dfca3(215)]=function(_0x320969){var _0x49151c=_0x4dfca3,_0x54a967=ecs[_0x49151c(178)](_0x2ae7e2["LgEgB"])["find"](MapGridComp),_0x149ffd=this[_0x49151c(274)][_0x49151c(309)],_0x1cad40=Math[_0x49151c(290)](_0x2ae7e2[_0x49151c(216)](_0x149ffd["x"],16)),_0x2ccab2=Math[_0x49151c(290)](_0x2ae7e2["DJoys"](_0x149ffd["y"],16));this[_0x49151c(242)]=_0x54a967[_0x49151c(319)](_0x1cad40,_0x2ccab2,_0x320969[_0x49151c(332)]["x"],_0x320969[_0x49151c(332)]["y"]),this[_0x49151c(306)]()},_0x4e1e1d[_0x4dfca3(390)][_0x4dfca3(306)]=function(){var _0x514466=_0x4dfca3,_0x572abb=_0x2ae7e2[_0x514466(166)][_0x514466(478)]("|"),_0x29846c=0;while(!![]){switch(_0x572abb[_0x29846c++]){case"0":var _0x1bb2fd=this["path"][_0x514466(211)]();continue;case"1":this[_0x514466(320)]={x:_0x2ae7e2["XzGyD"](16*_0x1bb2fd["x"],8),y:_0x2ae7e2[_0x514466(403)](16*_0x1bb2fd["y"],8)},_0x5b4b56[_0x514466(313)]="run";continue;case"2":if(!this["path"]||!this["path"][_0x514466(451)])return void(_0x5b4b56[_0x514466(313)]=_0x2ae7e2["pOgeM"]);continue;case"3":var _0x5b4b56=this[_0x514466(274)][_0x514466(309)];continue;case"4":this[_0x514466(320)]=null;continue}break}},_0x4e1e1d[_0x4dfca3(390)][_0x4dfca3(375)]=function(){var _0x31dec8=_0x4dfca3,_0x50bd40=this[_0x31dec8(351)],_0x37d8e7=this[_0x31dec8(274)][_0x31dec8(309)];if(this[_0x31dec8(320)]){if(_0x2ae7e2[_0x31dec8(158)](_0x37d8e7["x"],this[_0x31dec8(320)]["x"])){var _0x2965be=_0x2ae7e2[_0x31dec8(181)](this["endNode"]["x"],_0x37d8e7["x"]);_0x2ae7e2[_0x31dec8(251)](Math[_0x31dec8(466)](_0x2965be),_0x50bd40)?_0x37d8e7["x"]=this["endNode"]["x"]:_0x37d8e7["x"]+=vitamin[_0x31dec8(465)][_0x31dec8(441)](_0x2ae7e2[_0x31dec8(421)](this["endNode"]["x"],_0x37d8e7["x"]))*_0x50bd40}if(_0x2ae7e2[_0x31dec8(158)](_0x37d8e7["y"],this[_0x31dec8(320)]["y"])){var _0x1b69a7=_0x2ae7e2["OTAzv"](this[_0x31dec8(320)]["y"],_0x37d8e7["y"]);_0x2ae7e2[_0x31dec8(251)](Math[_0x31dec8(466)](_0x1b69a7),_0x50bd40)?_0x37d8e7["y"]=this["endNode"]["y"]:_0x37d8e7["y"]+=_0x2ae7e2[_0x31dec8(457)](vitamin[_0x31dec8(465)][_0x31dec8(441)](this["endNode"]["y"]-_0x37d8e7["y"]),_0x50bd40)}ecs[_0x31dec8(178)](_0x2ae7e2[_0x31dec8(485)])[_0x31dec8(178)](MapBitmapComp)[_0x31dec8(415)][_0x31dec8(454)](_0x37d8e7["x"],_0x37d8e7["y"]),_0x2ae7e2[_0x31dec8(163)](this[_0x31dec8(358)],_0x37d8e7["x"])&&(_0x37d8e7["scaleX"]=_0x2ae7e2["RZJRz"](_0x37d8e7["x"],this[_0x31dec8(358)])?1:-1,this[_0x31dec8(358)]=_0x37d8e7["x"]),_0x37d8e7["x"]==this[_0x31dec8(320)]["x"]&&_0x2ae7e2[_0x31dec8(335)](_0x37d8e7["y"],this[_0x31dec8(320)]["y"])&&this[_0x31dec8(306)]()}},_0x4e1e1d}(ecs[_0x551e5a(477)]);function _0xfb52(_0x327d23,_0xcf3c66){var _0x17f751=_0x17f7();return _0xfb52=function(_0xfb521,_0xc8f958){_0xfb521=_0xfb521-152;var _0x49bffd=_0x17f751[_0xfb521];return _0x49bffd},_0xfb52(_0x327d23,_0xcf3c66)}__reflect(TapControlComp[_0x551e5a(390)],_0x551e5a(304));